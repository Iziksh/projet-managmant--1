<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <meta content="text/html; charset=UTF-8" http-equiv="Content-Type" />

  <title>Module: ActiveRecord::Persistence</title>

  <link rel="stylesheet" href="../rdoc.css" type="text/css" media="screen" />

  <script src="../js/jquery.js" type="text/javascript" charset="utf-8"></script>
  <script src="../js/thickbox-compressed.js" type="text/javascript" charset="utf-8"></script>
  <script src="../js/quicksearch.js" type="text/javascript" charset="utf-8"></script>
  <script src="../js/darkfish.js" type="text/javascript" charset="utf-8"></script>

</head>
<body id="top" class="module">

  <div id="metadata">
    <div id="home-metadata">
      <div id="home-section" class="section">
        <h3 class="section-header">
          <a href="../index.html">Home</a>
          <a href="../index.html#classes">Classes</a>
          <a href="../index.html#methods">Methods</a>
        </h3>
      </div>
    </div>

    <div id="file-metadata">
      <div id="file-list-section" class="section">
        <h3 class="section-header">In Files</h3>
        <div class="section-body">
          <ul>
          
            <li><a href="../lib/active_record/persistence_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
              class="thickbox" title="lib/active_record/persistence.rb">lib/active_record/persistence.rb</a></li>
          
          </ul>
        </div>
      </div>

      
    </div>

    <div id="class-metadata">
      

      

      
      <!-- Namespace Contents -->
      <div id="namespace-list-section" class="section">
        <h3 class="section-header">Namespace</h3>
        <ul class="link-list">
          
          <li><span class="type">MODULE</span> <a href="Persistence/ClassMethods.html">ActiveRecord::Persistence::ClassMethods</a></li>
          
        </ul>
      </div>
      

      
      <!-- Method Quickref -->
      <div id="method-list-section" class="section">
        <h3 class="section-header">Methods</h3>
        <ul class="link-list">
          
          <li><a href="#method-i-becomes">#becomes</a></li>
          
          <li><a href="#method-i-becomes-21">#becomes!</a></li>
          
          <li><a href="#method-i-decrement">#decrement</a></li>
          
          <li><a href="#method-i-decrement-21">#decrement!</a></li>
          
          <li><a href="#method-i-delete">#delete</a></li>
          
          <li><a href="#method-i-destroy">#destroy</a></li>
          
          <li><a href="#method-i-destroy-21">#destroy!</a></li>
          
          <li><a href="#method-i-destroyed-3F">#destroyed?</a></li>
          
          <li><a href="#method-i-increment">#increment</a></li>
          
          <li><a href="#method-i-increment-21">#increment!</a></li>
          
          <li><a href="#method-i-new_record-3F">#new_record?</a></li>
          
          <li><a href="#method-i-persisted-3F">#persisted?</a></li>
          
          <li><a href="#method-i-reload">#reload</a></li>
          
          <li><a href="#method-i-save">#save</a></li>
          
          <li><a href="#method-i-save-21">#save!</a></li>
          
          <li><a href="#method-i-toggle">#toggle</a></li>
          
          <li><a href="#method-i-toggle-21">#toggle!</a></li>
          
          <li><a href="#method-i-touch">#touch</a></li>
          
          <li><a href="#method-i-update">#update</a></li>
          
          <li><a href="#method-i-update-21">#update!</a></li>
          
          <li><a href="#method-i-update_attribute">#update_attribute</a></li>
          
          <li><a href="#method-i-update_attributes">#update_attributes</a></li>
          
          <li><a href="#method-i-update_attributes-21">#update_attributes!</a></li>
          
          <li><a href="#method-i-update_column">#update_column</a></li>
          
          <li><a href="#method-i-update_columns">#update_columns</a></li>
          
        </ul>
      </div>
      

      
    </div>

    <div id="project-metadata">
      
      
      <div id="fileindex-section" class="section project-section">
        <h3 class="section-header">Files</h3>
        <ul>
        
          <li class="file"><a href="../README_rdoc.html">README.rdoc</a></li>
        
        </ul>
      </div>
      

      <div id="classindex-section" class="section project-section">
        <h3 class="section-header">Class/Module Index
          <span class="search-toggle"><img src="../images/find.png"
            height="16" width="16" alt="[+]"
            title="show/hide quicksearch" /></span></h3>
        <form action="#" method="get" accept-charset="utf-8" class="initially-hidden">
        <fieldset>
          <legend>Quicksearch</legend>
          <input type="text" name="quicksearch" value=""
            class="quicksearch-field" />
        </fieldset>
        </form>

        <ul class="link-list">
        
          <li><a href="../ActiveRecord.html">ActiveRecord</a></li>
        
          <li><a href="../ActiveRecord/ActiveRecordError.html">ActiveRecord::ActiveRecordError</a></li>
        
          <li><a href="../ActiveRecord/AdapterNotFound.html">ActiveRecord::AdapterNotFound</a></li>
        
          <li><a href="../ActiveRecord/AdapterNotSpecified.html">ActiveRecord::AdapterNotSpecified</a></li>
        
          <li><a href="../ActiveRecord/Aggregations.html">ActiveRecord::Aggregations</a></li>
        
          <li><a href="../ActiveRecord/Aggregations/ClassMethods.html">ActiveRecord::Aggregations::ClassMethods</a></li>
        
          <li><a href="../ActiveRecord/AssociationRelation.html">ActiveRecord::AssociationRelation</a></li>
        
          <li><a href="../ActiveRecord/AssociationTypeMismatch.html">ActiveRecord::AssociationTypeMismatch</a></li>
        
          <li><a href="../ActiveRecord/Associations.html">ActiveRecord::Associations</a></li>
        
          <li><a href="../ActiveRecord/Associations/ClassMethods.html">ActiveRecord::Associations::ClassMethods</a></li>
        
          <li><a href="../ActiveRecord/Associations/CollectionProxy.html">ActiveRecord::Associations::CollectionProxy</a></li>
        
          <li><a href="../ActiveRecord/AttributeAssignment.html">ActiveRecord::AttributeAssignment</a></li>
        
          <li><a href="../ActiveRecord/AttributeAssignmentError.html">ActiveRecord::AttributeAssignmentError</a></li>
        
          <li><a href="../ActiveRecord/AttributeMethods.html">ActiveRecord::AttributeMethods</a></li>
        
          <li><a href="../ActiveRecord/AttributeMethods/BeforeTypeCast.html">ActiveRecord::AttributeMethods::BeforeTypeCast</a></li>
        
          <li><a href="../ActiveRecord/AttributeMethods/ClassMethods.html">ActiveRecord::AttributeMethods::ClassMethods</a></li>
        
          <li><a href="../ActiveRecord/AttributeMethods/PrimaryKey.html">ActiveRecord::AttributeMethods::PrimaryKey</a></li>
        
          <li><a href="../ActiveRecord/AttributeMethods/PrimaryKey/ClassMethods.html">ActiveRecord::AttributeMethods::PrimaryKey::ClassMethods</a></li>
        
          <li><a href="../ActiveRecord/AttributeMethods/Query.html">ActiveRecord::AttributeMethods::Query</a></li>
        
          <li><a href="../ActiveRecord/AttributeMethods/Read.html">ActiveRecord::AttributeMethods::Read</a></li>
        
          <li><a href="../ActiveRecord/AttributeMethods/Read/ClassMethods.html">ActiveRecord::AttributeMethods::Read::ClassMethods</a></li>
        
          <li><a href="../ActiveRecord/AttributeMethods/Serialization.html">ActiveRecord::AttributeMethods::Serialization</a></li>
        
          <li><a href="../ActiveRecord/AttributeMethods/Serialization/ClassMethods.html">ActiveRecord::AttributeMethods::Serialization::ClassMethods</a></li>
        
          <li><a href="../ActiveRecord/AttributeMethods/TimeZoneConversion.html">ActiveRecord::AttributeMethods::TimeZoneConversion</a></li>
        
          <li><a href="../ActiveRecord/AttributeMethods/TimeZoneConversion/ClassMethods.html">ActiveRecord::AttributeMethods::TimeZoneConversion::ClassMethods</a></li>
        
          <li><a href="../ActiveRecord/AttributeMethods/Write.html">ActiveRecord::AttributeMethods::Write</a></li>
        
          <li><a href="../ActiveRecord/AttributeMethods/Write/ClassMethods.html">ActiveRecord::AttributeMethods::Write::ClassMethods</a></li>
        
          <li><a href="../ActiveRecord/AutosaveAssociation.html">ActiveRecord::AutosaveAssociation</a></li>
        
          <li><a href="../ActiveRecord/AutosaveAssociation/ClassMethods.html">ActiveRecord::AutosaveAssociation::ClassMethods</a></li>
        
          <li><a href="../ActiveRecord/Base.html">ActiveRecord::Base</a></li>
        
          <li><a href="../ActiveRecord/Batches.html">ActiveRecord::Batches</a></li>
        
          <li><a href="../ActiveRecord/Calculations.html">ActiveRecord::Calculations</a></li>
        
          <li><a href="../ActiveRecord/Callbacks.html">ActiveRecord::Callbacks</a></li>
        
          <li><a href="../ActiveRecord/Callbacks/ClassMethods.html">ActiveRecord::Callbacks::ClassMethods</a></li>
        
          <li><a href="../ActiveRecord/ConfigurationError.html">ActiveRecord::ConfigurationError</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters.html">ActiveRecord::ConnectionAdapters</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/AbstractAdapter.html">ActiveRecord::ConnectionAdapters::AbstractAdapter</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/AbstractAdapter/SchemaCreation.html">ActiveRecord::ConnectionAdapters::AbstractAdapter::SchemaCreation</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/AbstractMysqlAdapter.html">ActiveRecord::ConnectionAdapters::AbstractMysqlAdapter</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/AbstractMysqlAdapter/SchemaCreation.html">ActiveRecord::ConnectionAdapters::AbstractMysqlAdapter::SchemaCreation</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/ColumnDumper.html">ActiveRecord::ConnectionAdapters::ColumnDumper</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/ConnectionHandler.html">ActiveRecord::ConnectionAdapters::ConnectionHandler</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/ConnectionManagement.html">ActiveRecord::ConnectionAdapters::ConnectionManagement</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/ConnectionPool.html">ActiveRecord::ConnectionAdapters::ConnectionPool</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/ConnectionPool/Queue.html">ActiveRecord::ConnectionAdapters::ConnectionPool::Queue</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/ConnectionPool/Reaper.html">ActiveRecord::ConnectionAdapters::ConnectionPool::Reaper</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/DatabaseLimits.html">ActiveRecord::ConnectionAdapters::DatabaseLimits</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/DatabaseStatements.html">ActiveRecord::ConnectionAdapters::DatabaseStatements</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/Mysql2Adapter.html">ActiveRecord::ConnectionAdapters::Mysql2Adapter</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/MysqlAdapter.html">ActiveRecord::ConnectionAdapters::MysqlAdapter</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/MysqlAdapter/Fields.html">ActiveRecord::ConnectionAdapters::MysqlAdapter::Fields</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/MysqlAdapter/Fields/Boolean.html">ActiveRecord::ConnectionAdapters::MysqlAdapter::Fields::Boolean</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/MysqlAdapter/Fields/Date.html">ActiveRecord::ConnectionAdapters::MysqlAdapter::Fields::Date</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/MysqlAdapter/Fields/DateTime.html">ActiveRecord::ConnectionAdapters::MysqlAdapter::Fields::DateTime</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/MysqlAdapter/Fields/Decimal.html">ActiveRecord::ConnectionAdapters::MysqlAdapter::Fields::Decimal</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/MysqlAdapter/Fields/Float.html">ActiveRecord::ConnectionAdapters::MysqlAdapter::Fields::Float</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/MysqlAdapter/Fields/Identity.html">ActiveRecord::ConnectionAdapters::MysqlAdapter::Fields::Identity</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/MysqlAdapter/Fields/Integer.html">ActiveRecord::ConnectionAdapters::MysqlAdapter::Fields::Integer</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/MysqlAdapter/Fields/Time.html">ActiveRecord::ConnectionAdapters::MysqlAdapter::Fields::Time</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/MysqlAdapter/Fields/Type.html">ActiveRecord::ConnectionAdapters::MysqlAdapter::Fields::Type</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/MysqlAdapter/StatementPool.html">ActiveRecord::ConnectionAdapters::MysqlAdapter::StatementPool</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/PostgreSQLAdapter.html">ActiveRecord::ConnectionAdapters::PostgreSQLAdapter</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/PostgreSQLAdapter/ColumnDefinition.html">ActiveRecord::ConnectionAdapters::PostgreSQLAdapter::ColumnDefinition</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/PostgreSQLAdapter/ColumnMethods.html">ActiveRecord::ConnectionAdapters::PostgreSQLAdapter::ColumnMethods</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/PostgreSQLAdapter/DatabaseStatements.html">ActiveRecord::ConnectionAdapters::PostgreSQLAdapter::DatabaseStatements</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/PostgreSQLAdapter/OID.html">ActiveRecord::ConnectionAdapters::PostgreSQLAdapter::OID</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/PostgreSQLAdapter/OID/Array.html">ActiveRecord::ConnectionAdapters::PostgreSQLAdapter::OID::Array</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/PostgreSQLAdapter/OID/Bit.html">ActiveRecord::ConnectionAdapters::PostgreSQLAdapter::OID::Bit</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/PostgreSQLAdapter/OID/Boolean.html">ActiveRecord::ConnectionAdapters::PostgreSQLAdapter::OID::Boolean</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/PostgreSQLAdapter/OID/Bytea.html">ActiveRecord::ConnectionAdapters::PostgreSQLAdapter::OID::Bytea</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/PostgreSQLAdapter/OID/Cidr.html">ActiveRecord::ConnectionAdapters::PostgreSQLAdapter::OID::Cidr</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/PostgreSQLAdapter/OID/Date.html">ActiveRecord::ConnectionAdapters::PostgreSQLAdapter::OID::Date</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/PostgreSQLAdapter/OID/Decimal.html">ActiveRecord::ConnectionAdapters::PostgreSQLAdapter::OID::Decimal</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/PostgreSQLAdapter/OID/Float.html">ActiveRecord::ConnectionAdapters::PostgreSQLAdapter::OID::Float</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/PostgreSQLAdapter/OID/Hstore.html">ActiveRecord::ConnectionAdapters::PostgreSQLAdapter::OID::Hstore</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/PostgreSQLAdapter/OID/Identity.html">ActiveRecord::ConnectionAdapters::PostgreSQLAdapter::OID::Identity</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/PostgreSQLAdapter/OID/Integer.html">ActiveRecord::ConnectionAdapters::PostgreSQLAdapter::OID::Integer</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/PostgreSQLAdapter/OID/Json.html">ActiveRecord::ConnectionAdapters::PostgreSQLAdapter::OID::Json</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/PostgreSQLAdapter/OID/Money.html">ActiveRecord::ConnectionAdapters::PostgreSQLAdapter::OID::Money</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/PostgreSQLAdapter/OID/Point.html">ActiveRecord::ConnectionAdapters::PostgreSQLAdapter::OID::Point</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/PostgreSQLAdapter/OID/Range.html">ActiveRecord::ConnectionAdapters::PostgreSQLAdapter::OID::Range</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/PostgreSQLAdapter/OID/Time.html">ActiveRecord::ConnectionAdapters::PostgreSQLAdapter::OID::Time</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/PostgreSQLAdapter/OID/Timestamp.html">ActiveRecord::ConnectionAdapters::PostgreSQLAdapter::OID::Timestamp</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/PostgreSQLAdapter/OID/Type.html">ActiveRecord::ConnectionAdapters::PostgreSQLAdapter::OID::Type</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/PostgreSQLAdapter/OID/TypeMap.html">ActiveRecord::ConnectionAdapters::PostgreSQLAdapter::OID::TypeMap</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/PostgreSQLAdapter/OID/Vector.html">ActiveRecord::ConnectionAdapters::PostgreSQLAdapter::OID::Vector</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/PostgreSQLAdapter/Quoting.html">ActiveRecord::ConnectionAdapters::PostgreSQLAdapter::Quoting</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/PostgreSQLAdapter/ReferentialIntegrity.html">ActiveRecord::ConnectionAdapters::PostgreSQLAdapter::ReferentialIntegrity</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/PostgreSQLAdapter/SchemaCreation.html">ActiveRecord::ConnectionAdapters::PostgreSQLAdapter::SchemaCreation</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/PostgreSQLAdapter/SchemaStatements.html">ActiveRecord::ConnectionAdapters::PostgreSQLAdapter::SchemaStatements</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/PostgreSQLAdapter/StatementPool.html">ActiveRecord::ConnectionAdapters::PostgreSQLAdapter::StatementPool</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/PostgreSQLAdapter/Table.html">ActiveRecord::ConnectionAdapters::PostgreSQLAdapter::Table</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/PostgreSQLAdapter/TableDefinition.html">ActiveRecord::ConnectionAdapters::PostgreSQLAdapter::TableDefinition</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/PostgreSQLAdapter/Utils.html">ActiveRecord::ConnectionAdapters::PostgreSQLAdapter::Utils</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/PostgreSQLColumn.html">ActiveRecord::ConnectionAdapters::PostgreSQLColumn</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/PostgreSQLColumn/ArrayParser.html">ActiveRecord::ConnectionAdapters::PostgreSQLColumn::ArrayParser</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/PostgreSQLColumn/Cast.html">ActiveRecord::ConnectionAdapters::PostgreSQLColumn::Cast</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/QueryCache.html">ActiveRecord::ConnectionAdapters::QueryCache</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/Quoting.html">ActiveRecord::ConnectionAdapters::Quoting</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/SQLite3Adapter.html">ActiveRecord::ConnectionAdapters::SQLite3Adapter</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/SQLite3Adapter/ExplainPrettyPrinter.html">ActiveRecord::ConnectionAdapters::SQLite3Adapter::ExplainPrettyPrinter</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/SQLite3Adapter/StatementPool.html">ActiveRecord::ConnectionAdapters::SQLite3Adapter::StatementPool</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/SQLite3Adapter/Version.html">ActiveRecord::ConnectionAdapters::SQLite3Adapter::Version</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/SchemaCache.html">ActiveRecord::ConnectionAdapters::SchemaCache</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/SchemaStatements.html">ActiveRecord::ConnectionAdapters::SchemaStatements</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/StatementPool.html">ActiveRecord::ConnectionAdapters::StatementPool</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/Table.html">ActiveRecord::ConnectionAdapters::Table</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/TableDefinition.html">ActiveRecord::ConnectionAdapters::TableDefinition</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/TransactionState.html">ActiveRecord::ConnectionAdapters::TransactionState</a></li>
        
          <li><a href="../ActiveRecord/ConnectionHandling.html">ActiveRecord::ConnectionHandling</a></li>
        
          <li><a href="../ActiveRecord/ConnectionNotEstablished.html">ActiveRecord::ConnectionNotEstablished</a></li>
        
          <li><a href="../ActiveRecord/ConnectionTimeoutError.html">ActiveRecord::ConnectionTimeoutError</a></li>
        
          <li><a href="../ActiveRecord/Core.html">ActiveRecord::Core</a></li>
        
          <li><a href="../ActiveRecord/Core/ClassMethods.html">ActiveRecord::Core::ClassMethods</a></li>
        
          <li><a href="../ActiveRecord/CounterCache.html">ActiveRecord::CounterCache</a></li>
        
          <li><a href="../ActiveRecord/CounterCache/ClassMethods.html">ActiveRecord::CounterCache::ClassMethods</a></li>
        
          <li><a href="../ActiveRecord/DangerousAttributeError.html">ActiveRecord::DangerousAttributeError</a></li>
        
          <li><a href="../ActiveRecord/DynamicMatchers.html">ActiveRecord::DynamicMatchers</a></li>
        
          <li><a href="../ActiveRecord/DynamicMatchers/FindBy.html">ActiveRecord::DynamicMatchers::FindBy</a></li>
        
          <li><a href="../ActiveRecord/DynamicMatchers/FindByBang.html">ActiveRecord::DynamicMatchers::FindByBang</a></li>
        
          <li><a href="../ActiveRecord/DynamicMatchers/Finder.html">ActiveRecord::DynamicMatchers::Finder</a></li>
        
          <li><a href="../ActiveRecord/DynamicMatchers/Method.html">ActiveRecord::DynamicMatchers::Method</a></li>
        
          <li><a href="../ActiveRecord/Explain.html">ActiveRecord::Explain</a></li>
        
          <li><a href="../ActiveRecord/FinderMethods.html">ActiveRecord::FinderMethods</a></li>
        
          <li><a href="../ActiveRecord/FixtureSet.html">ActiveRecord::FixtureSet</a></li>
        
          <li><a href="../ActiveRecord/ImmutableRelation.html">ActiveRecord::ImmutableRelation</a></li>
        
          <li><a href="../ActiveRecord/Inheritance.html">ActiveRecord::Inheritance</a></li>
        
          <li><a href="../ActiveRecord/Inheritance/ClassMethods.html">ActiveRecord::Inheritance::ClassMethods</a></li>
        
          <li><a href="../ActiveRecord/Integration.html">ActiveRecord::Integration</a></li>
        
          <li><a href="../ActiveRecord/InvalidForeignKey.html">ActiveRecord::InvalidForeignKey</a></li>
        
          <li><a href="../ActiveRecord/IrreversibleMigration.html">ActiveRecord::IrreversibleMigration</a></li>
        
          <li><a href="../ActiveRecord/Locking.html">ActiveRecord::Locking</a></li>
        
          <li><a href="../ActiveRecord/Locking/Optimistic.html">ActiveRecord::Locking::Optimistic</a></li>
        
          <li><a href="../ActiveRecord/Locking/Optimistic/ClassMethods.html">ActiveRecord::Locking::Optimistic::ClassMethods</a></li>
        
          <li><a href="../ActiveRecord/Locking/Pessimistic.html">ActiveRecord::Locking::Pessimistic</a></li>
        
          <li><a href="../ActiveRecord/LogSubscriber.html">ActiveRecord::LogSubscriber</a></li>
        
          <li><a href="../ActiveRecord/Migration.html">ActiveRecord::Migration</a></li>
        
          <li><a href="../ActiveRecord/Migration/CheckPending.html">ActiveRecord::Migration::CheckPending</a></li>
        
          <li><a href="../ActiveRecord/Migration/CommandRecorder.html">ActiveRecord::Migration::CommandRecorder</a></li>
        
          <li><a href="../ActiveRecord/Migration/CommandRecorder/StraightReversions.html">ActiveRecord::Migration::CommandRecorder::StraightReversions</a></li>
        
          <li><a href="../ActiveRecord/MigrationProxy.html">ActiveRecord::MigrationProxy</a></li>
        
          <li><a href="../ActiveRecord/ModelSchema.html">ActiveRecord::ModelSchema</a></li>
        
          <li><a href="../ActiveRecord/ModelSchema/ClassMethods.html">ActiveRecord::ModelSchema::ClassMethods</a></li>
        
          <li><a href="../ActiveRecord/MultiparameterAssignmentErrors.html">ActiveRecord::MultiparameterAssignmentErrors</a></li>
        
          <li><a href="../ActiveRecord/NestedAttributes.html">ActiveRecord::NestedAttributes</a></li>
        
          <li><a href="../ActiveRecord/NestedAttributes/ClassMethods.html">ActiveRecord::NestedAttributes::ClassMethods</a></li>
        
          <li><a href="../ActiveRecord/NestedAttributes/TooManyRecords.html">ActiveRecord::NestedAttributes::TooManyRecords</a></li>
        
          <li><a href="../ActiveRecord/Persistence.html">ActiveRecord::Persistence</a></li>
        
          <li><a href="../ActiveRecord/Persistence/ClassMethods.html">ActiveRecord::Persistence::ClassMethods</a></li>
        
          <li><a href="../ActiveRecord/PreparedStatementInvalid.html">ActiveRecord::PreparedStatementInvalid</a></li>
        
          <li><a href="../ActiveRecord/QueryCache.html">ActiveRecord::QueryCache</a></li>
        
          <li><a href="../ActiveRecord/QueryCache/ClassMethods.html">ActiveRecord::QueryCache::ClassMethods</a></li>
        
          <li><a href="../ActiveRecord/QueryMethods.html">ActiveRecord::QueryMethods</a></li>
        
          <li><a href="../ActiveRecord/QueryMethods/WhereChain.html">ActiveRecord::QueryMethods::WhereChain</a></li>
        
          <li><a href="../ActiveRecord/Querying.html">ActiveRecord::Querying</a></li>
        
          <li><a href="../ActiveRecord/ReadOnlyRecord.html">ActiveRecord::ReadOnlyRecord</a></li>
        
          <li><a href="../ActiveRecord/ReadonlyAttributes.html">ActiveRecord::ReadonlyAttributes</a></li>
        
          <li><a href="../ActiveRecord/ReadonlyAttributes/ClassMethods.html">ActiveRecord::ReadonlyAttributes::ClassMethods</a></li>
        
          <li><a href="../ActiveRecord/RecordInvalid.html">ActiveRecord::RecordInvalid</a></li>
        
          <li><a href="../ActiveRecord/RecordNotDestroyed.html">ActiveRecord::RecordNotDestroyed</a></li>
        
          <li><a href="../ActiveRecord/RecordNotFound.html">ActiveRecord::RecordNotFound</a></li>
        
          <li><a href="../ActiveRecord/RecordNotSaved.html">ActiveRecord::RecordNotSaved</a></li>
        
          <li><a href="../ActiveRecord/RecordNotUnique.html">ActiveRecord::RecordNotUnique</a></li>
        
          <li><a href="../ActiveRecord/Reflection.html">ActiveRecord::Reflection</a></li>
        
          <li><a href="../ActiveRecord/Reflection/ClassMethods.html">ActiveRecord::Reflection::ClassMethods</a></li>
        
          <li><a href="../ActiveRecord/Reflection/MacroReflection.html">ActiveRecord::Reflection::MacroReflection</a></li>
        
          <li><a href="../ActiveRecord/Relation.html">ActiveRecord::Relation</a></li>
        
          <li><a href="../ActiveRecord/Result.html">ActiveRecord::Result</a></li>
        
          <li><a href="../ActiveRecord/Rollback.html">ActiveRecord::Rollback</a></li>
        
          <li><a href="../ActiveRecord/SQLCounter.html">ActiveRecord::SQLCounter</a></li>
        
          <li><a href="../ActiveRecord/Sanitization.html">ActiveRecord::Sanitization</a></li>
        
          <li><a href="../ActiveRecord/Sanitization/ClassMethods.html">ActiveRecord::Sanitization::ClassMethods</a></li>
        
          <li><a href="../ActiveRecord/Schema.html">ActiveRecord::Schema</a></li>
        
          <li><a href="../ActiveRecord/SchemaMigration.html">ActiveRecord::SchemaMigration</a></li>
        
          <li><a href="../ActiveRecord/Scoping.html">ActiveRecord::Scoping</a></li>
        
          <li><a href="../ActiveRecord/Scoping/ClassMethods.html">ActiveRecord::Scoping::ClassMethods</a></li>
        
          <li><a href="../ActiveRecord/Scoping/Default.html">ActiveRecord::Scoping::Default</a></li>
        
          <li><a href="../ActiveRecord/Scoping/Default/ClassMethods.html">ActiveRecord::Scoping::Default::ClassMethods</a></li>
        
          <li><a href="../ActiveRecord/Scoping/Named.html">ActiveRecord::Scoping::Named</a></li>
        
          <li><a href="../ActiveRecord/Scoping/Named/ClassMethods.html">ActiveRecord::Scoping::Named::ClassMethods</a></li>
        
          <li><a href="../ActiveRecord/Serialization.html">ActiveRecord::Serialization</a></li>
        
          <li><a href="../ActiveRecord/SerializationTypeMismatch.html">ActiveRecord::SerializationTypeMismatch</a></li>
        
          <li><a href="../ActiveRecord/SpawnMethods.html">ActiveRecord::SpawnMethods</a></li>
        
          <li><a href="../ActiveRecord/StaleObjectError.html">ActiveRecord::StaleObjectError</a></li>
        
          <li><a href="../ActiveRecord/StatementCache.html">ActiveRecord::StatementCache</a></li>
        
          <li><a href="../ActiveRecord/StatementInvalid.html">ActiveRecord::StatementInvalid</a></li>
        
          <li><a href="../ActiveRecord/Store.html">ActiveRecord::Store</a></li>
        
          <li><a href="../ActiveRecord/Store/ClassMethods.html">ActiveRecord::Store::ClassMethods</a></li>
        
          <li><a href="../ActiveRecord/Tasks.html">ActiveRecord::Tasks</a></li>
        
          <li><a href="../ActiveRecord/Tasks/DatabaseAlreadyExists.html">ActiveRecord::Tasks::DatabaseAlreadyExists</a></li>
        
          <li><a href="../ActiveRecord/Tasks/DatabaseNotSupported.html">ActiveRecord::Tasks::DatabaseNotSupported</a></li>
        
          <li><a href="../ActiveRecord/Tasks/DatabaseTasks.html">ActiveRecord::Tasks::DatabaseTasks</a></li>
        
          <li><a href="../ActiveRecord/TestFixtures.html">ActiveRecord::TestFixtures</a></li>
        
          <li><a href="../ActiveRecord/TestFixtures/ClassMethods.html">ActiveRecord::TestFixtures::ClassMethods</a></li>
        
          <li><a href="../ActiveRecord/ThrowResult.html">ActiveRecord::ThrowResult</a></li>
        
          <li><a href="../ActiveRecord/Timestamp.html">ActiveRecord::Timestamp</a></li>
        
          <li><a href="../ActiveRecord/TransactionIsolationError.html">ActiveRecord::TransactionIsolationError</a></li>
        
          <li><a href="../ActiveRecord/Transactions.html">ActiveRecord::Transactions</a></li>
        
          <li><a href="../ActiveRecord/Transactions/ClassMethods.html">ActiveRecord::Transactions::ClassMethods</a></li>
        
          <li><a href="../ActiveRecord/Translation.html">ActiveRecord::Translation</a></li>
        
          <li><a href="../ActiveRecord/UnknownAttributeError.html">ActiveRecord::UnknownAttributeError</a></li>
        
          <li><a href="../ActiveRecord/UnknownPrimaryKey.html">ActiveRecord::UnknownPrimaryKey</a></li>
        
          <li><a href="../ActiveRecord/Validations.html">ActiveRecord::Validations</a></li>
        
          <li><a href="../ActiveRecord/Validations/ClassMethods.html">ActiveRecord::Validations::ClassMethods</a></li>
        
          <li><a href="../ActiveRecord/WrappedDatabaseException.html">ActiveRecord::WrappedDatabaseException</a></li>
        
          <li><a href="../Mysql.html">Mysql</a></li>
        
          <li><a href="../Mysql/Result.html">Mysql::Result</a></li>
        
          <li><a href="../Mysql/Stmt.html">Mysql::Stmt</a></li>
        
          <li><a href="../Mysql/Time.html">Mysql::Time</a></li>
        
        </ul>
        <div id="no-class-search-results" style="display: none;">No matching classes.</div>
      </div>

      
    </div>
  </div>

  <div id="documentation">
    <h1 class="module">ActiveRecord::Persistence</h1>

    <div id="description" class="description">
      
<h1>Active Record <a href="Persistence.html">Persistence</a></h1>

    </div><!-- description -->

    
    
    
    <div id="5Buntitled-5D" class="documentation-section">
      

      

      

      

      <!-- Methods -->
      
      <div id="public-instance-method-details" class="method-section section">
        <h3 class="section-header">Public Instance Methods</h3>

      
        <div id="becomes-method" class="method-detail ">
          <a name="method-i-becomes"></a>

          
          <div class="method-heading">
            <span class="method-name">becomes</span><span
              class="method-args">(klass)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Returns an instance of the specified <tt>klass</tt> with the attributes of
the current record. This is mostly useful in relation to single-table
inheritance structures where you want a subclass to appear as the
superclass. This can be used along with record identification in Action
Pack to allow, say, <tt>Client &lt; Company</tt> to do something like
render <tt>partial: @client.becomes(Company)</tt> to render that instance
using the companies/company partial instead of clients/client.</p>

<p>Note: The new instance will share a link to the same attributes as the
original class. So any change to the attributes in either instance will
affect the other.</p>
            

            
            <div class="method-source-code" id="becomes-source">
<pre>
<span class="ruby-comment"># File lib/active_record/persistence.rb, line 183</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">becomes</span>(<span class="ruby-identifier">klass</span>)
  <span class="ruby-identifier">became</span> = <span class="ruby-identifier">klass</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-identifier">became</span>.<span class="ruby-identifier">instance_variable_set</span>(<span class="ruby-string">&quot;@attributes&quot;</span>, <span class="ruby-ivar">@attributes</span>)
  <span class="ruby-identifier">became</span>.<span class="ruby-identifier">instance_variable_set</span>(<span class="ruby-string">&quot;@attributes_cache&quot;</span>, <span class="ruby-ivar">@attributes_cache</span>)
  <span class="ruby-identifier">became</span>.<span class="ruby-identifier">instance_variable_set</span>(<span class="ruby-string">&quot;@new_record&quot;</span>, <span class="ruby-identifier">new_record?</span>)
  <span class="ruby-identifier">became</span>.<span class="ruby-identifier">instance_variable_set</span>(<span class="ruby-string">&quot;@destroyed&quot;</span>, <span class="ruby-identifier">destroyed?</span>)
  <span class="ruby-identifier">became</span>.<span class="ruby-identifier">instance_variable_set</span>(<span class="ruby-string">&quot;@errors&quot;</span>, <span class="ruby-identifier">errors</span>)
  <span class="ruby-identifier">became</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- becomes-source -->
            
          </div>

          

          
        </div><!-- becomes-method -->

      
        <div id="becomes-21-method" class="method-detail ">
          <a name="method-i-becomes-21"></a>

          
          <div class="method-heading">
            <span class="method-name">becomes!</span><span
              class="method-args">(klass)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Wrapper around <tt>becomes</tt> that also changes the instance’s sti column
value. This is especially useful if you want to persist the changed class
in your database.</p>

<p>Note: The old instance’s sti column value will be changed too, as both
objects share the same set of attributes.</p>
            

            
            <div class="method-source-code" id="becomes-21-source">
<pre>
<span class="ruby-comment"># File lib/active_record/persistence.rb, line 199</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">becomes!</span>(<span class="ruby-identifier">klass</span>)
  <span class="ruby-identifier">became</span> = <span class="ruby-identifier">becomes</span>(<span class="ruby-identifier">klass</span>)
  <span class="ruby-identifier">became</span>.<span class="ruby-identifier">public_send</span>(<span class="ruby-node">&quot;#{klass.inheritance_column}=&quot;</span>, <span class="ruby-identifier">klass</span>.<span class="ruby-identifier">sti_name</span>) <span class="ruby-keyword">unless</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">descends_from_active_record?</span>
  <span class="ruby-identifier">became</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- becomes-21-source -->
            
          </div>

          

          
        </div><!-- becomes-21-method -->

      
        <div id="decrement-method" class="method-detail ">
          <a name="method-i-decrement"></a>

          
          <div class="method-heading">
            <span class="method-name">decrement</span><span
              class="method-args">(attribute, by = 1)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Initializes <tt>attribute</tt> to zero if <tt>nil</tt> and subtracts the
value passed as <tt>by</tt> (default is 1). The decrement is performed
directly on the underlying attribute, no setter is invoked. Only makes
sense for number-based attributes. Returns <tt>self</tt>.</p>
            

            
            <div class="method-source-code" id="decrement-source">
<pre>
<span class="ruby-comment"># File lib/active_record/persistence.rb, line 305</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">decrement</span>(<span class="ruby-identifier">attribute</span>, <span class="ruby-identifier">by</span> = <span class="ruby-value">1</span>)
  <span class="ruby-keyword">self</span>[<span class="ruby-identifier">attribute</span>] <span class="ruby-operator">||=</span> <span class="ruby-value">0</span>
  <span class="ruby-keyword">self</span>[<span class="ruby-identifier">attribute</span>] <span class="ruby-operator">-=</span> <span class="ruby-identifier">by</span>
  <span class="ruby-keyword">self</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- decrement-source -->
            
          </div>

          

          
        </div><!-- decrement-method -->

      
        <div id="decrement-21-method" class="method-detail ">
          <a name="method-i-decrement-21"></a>

          
          <div class="method-heading">
            <span class="method-name">decrement!</span><span
              class="method-args">(attribute, by = 1)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Wrapper around <tt>decrement</tt> that saves the record. This method
differs from its non-bang version in that it passes through the attribute
setter. Saving is not subjected to validation checks. Returns <tt>true</tt>
if the record could be saved.</p>
            

            
            <div class="method-source-code" id="decrement-21-source">
<pre>
<span class="ruby-comment"># File lib/active_record/persistence.rb, line 315</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">decrement!</span>(<span class="ruby-identifier">attribute</span>, <span class="ruby-identifier">by</span> = <span class="ruby-value">1</span>)
  <span class="ruby-identifier">decrement</span>(<span class="ruby-identifier">attribute</span>, <span class="ruby-identifier">by</span>).<span class="ruby-identifier">update_attribute</span>(<span class="ruby-identifier">attribute</span>, <span class="ruby-keyword">self</span>[<span class="ruby-identifier">attribute</span>])
<span class="ruby-keyword">end</span></pre>
            </div><!-- decrement-21-source -->
            
          </div>

          

          
        </div><!-- decrement-21-method -->

      
        <div id="delete-method" class="method-detail ">
          <a name="method-i-delete"></a>

          
          <div class="method-heading">
            <span class="method-name">delete</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Deletes the record in the database and freezes this instance to reflect
that no changes should be made (since they can’t be persisted). Returns the
frozen instance.</p>

<p>The row is simply removed with an SQL <tt>DELETE</tt> statement on the
record’s primary key, and no callbacks are executed.</p>

<p>To enforce the object’s <tt>before_destroy</tt> and <tt>after_destroy</tt>
callbacks or any <tt>:dependent</tt> association options, use
<tt>#destroy</tt>.</p>
            

            
            <div class="method-source-code" id="delete-source">
<pre>
<span class="ruby-comment"># File lib/active_record/persistence.rb, line 141</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">delete</span>
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">id</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">persisted?</span>
  <span class="ruby-ivar">@destroyed</span> = <span class="ruby-keyword">true</span>
  <span class="ruby-identifier">freeze</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- delete-source -->
            
          </div>

          

          
        </div><!-- delete-method -->

      
        <div id="destroy-method" class="method-detail ">
          <a name="method-i-destroy"></a>

          
          <div class="method-heading">
            <span class="method-name">destroy</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Deletes the record in the database and freezes this instance to reflect
that no changes should be made (since they can’t be persisted).</p>

<p>There’s a series of callbacks associated with <tt>destroy</tt>. If the
<tt>before_destroy</tt> callback return <tt>false</tt> the action is
cancelled and <tt>destroy</tt> returns <tt>false</tt>. See <a
href="Callbacks.html">ActiveRecord::Callbacks</a> for further details.</p>
            

            
            <div class="method-source-code" id="destroy-source">
<pre>
<span class="ruby-comment"># File lib/active_record/persistence.rb, line 154</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">destroy</span>
  <span class="ruby-identifier">raise</span> <span class="ruby-constant">ReadOnlyRecord</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">readonly?</span>
  <span class="ruby-identifier">destroy_associations</span>
  <span class="ruby-identifier">destroy_row</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">persisted?</span>
  <span class="ruby-ivar">@destroyed</span> = <span class="ruby-keyword">true</span>
  <span class="ruby-identifier">freeze</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- destroy-source -->
            
          </div>

          

          
        </div><!-- destroy-method -->

      
        <div id="destroy-21-method" class="method-detail ">
          <a name="method-i-destroy-21"></a>

          
          <div class="method-heading">
            <span class="method-name">destroy!</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Deletes the record in the database and freezes this instance to reflect
that no changes should be made (since they can’t be persisted).</p>

<p>There’s a series of callbacks associated with <tt>destroy!</tt>. If the
<tt>before_destroy</tt> callback return <tt>false</tt> the action is
cancelled and <tt>destroy!</tt> raises <a
href="RecordNotDestroyed.html">ActiveRecord::RecordNotDestroyed</a>. See <a
href="Callbacks.html">ActiveRecord::Callbacks</a> for further details.</p>
            

            
            <div class="method-source-code" id="destroy-21-source">
<pre>
<span class="ruby-comment"># File lib/active_record/persistence.rb, line 169</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">destroy!</span>
  <span class="ruby-identifier">destroy</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">raise</span>(<span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">RecordNotDestroyed</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- destroy-21-source -->
            
          </div>

          

          
        </div><!-- destroy-21-method -->

      
        <div id="destroyed-3F-method" class="method-detail ">
          <a name="method-i-destroyed-3F"></a>

          
          <div class="method-heading">
            <span class="method-name">destroyed?</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Returns true if this object has been destroyed, otherwise returns false.</p>
            

            
            <div class="method-source-code" id="destroyed-3F-source">
<pre>
<span class="ruby-comment"># File lib/active_record/persistence.rb, line 77</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">destroyed?</span>
  <span class="ruby-identifier">sync_with_transaction_state</span>
  <span class="ruby-ivar">@destroyed</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- destroyed-3F-source -->
            
          </div>

          

          
        </div><!-- destroyed-3F-method -->

      
        <div id="increment-method" class="method-detail ">
          <a name="method-i-increment"></a>

          
          <div class="method-heading">
            <span class="method-name">increment</span><span
              class="method-args">(attribute, by = 1)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Initializes <tt>attribute</tt> to zero if <tt>nil</tt> and adds the value
passed as <tt>by</tt> (default is 1). The increment is performed directly
on the underlying attribute, no setter is invoked. Only makes sense for
number-based attributes. Returns <tt>self</tt>.</p>
            

            
            <div class="method-source-code" id="increment-source">
<pre>
<span class="ruby-comment"># File lib/active_record/persistence.rb, line 288</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">increment</span>(<span class="ruby-identifier">attribute</span>, <span class="ruby-identifier">by</span> = <span class="ruby-value">1</span>)
  <span class="ruby-keyword">self</span>[<span class="ruby-identifier">attribute</span>] <span class="ruby-operator">||=</span> <span class="ruby-value">0</span>
  <span class="ruby-keyword">self</span>[<span class="ruby-identifier">attribute</span>] <span class="ruby-operator">+=</span> <span class="ruby-identifier">by</span>
  <span class="ruby-keyword">self</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- increment-source -->
            
          </div>

          

          
        </div><!-- increment-method -->

      
        <div id="increment-21-method" class="method-detail ">
          <a name="method-i-increment-21"></a>

          
          <div class="method-heading">
            <span class="method-name">increment!</span><span
              class="method-args">(attribute, by = 1)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Wrapper around <tt>increment</tt> that saves the record. This method
differs from its non-bang version in that it passes through the attribute
setter. Saving is not subjected to validation checks. Returns <tt>true</tt>
if the record could be saved.</p>
            

            
            <div class="method-source-code" id="increment-21-source">
<pre>
<span class="ruby-comment"># File lib/active_record/persistence.rb, line 298</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">increment!</span>(<span class="ruby-identifier">attribute</span>, <span class="ruby-identifier">by</span> = <span class="ruby-value">1</span>)
  <span class="ruby-identifier">increment</span>(<span class="ruby-identifier">attribute</span>, <span class="ruby-identifier">by</span>).<span class="ruby-identifier">update_attribute</span>(<span class="ruby-identifier">attribute</span>, <span class="ruby-keyword">self</span>[<span class="ruby-identifier">attribute</span>])
<span class="ruby-keyword">end</span></pre>
            </div><!-- increment-21-source -->
            
          </div>

          

          
        </div><!-- increment-21-method -->

      
        <div id="new_record-3F-method" class="method-detail ">
          <a name="method-i-new_record-3F"></a>

          
          <div class="method-heading">
            <span class="method-name">new_record?</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Returns true if this object hasn’t been saved yet – that is, a record for
the object doesn’t exist in the data store yet; otherwise, returns false.</p>
            

            
            <div class="method-source-code" id="new_record-3F-source">
<pre>
<span class="ruby-comment"># File lib/active_record/persistence.rb, line 71</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">new_record?</span>
  <span class="ruby-identifier">sync_with_transaction_state</span>
  <span class="ruby-ivar">@new_record</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- new_record-3F-source -->
            
          </div>

          

          
        </div><!-- new_record-3F-method -->

      
        <div id="persisted-3F-method" class="method-detail ">
          <a name="method-i-persisted-3F"></a>

          
          <div class="method-heading">
            <span class="method-name">persisted?</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Returns true if the record is persisted, i.e. it’s not a new record and it
was not destroyed, otherwise returns false.</p>
            

            
            <div class="method-source-code" id="persisted-3F-source">
<pre>
<span class="ruby-comment"># File lib/active_record/persistence.rb, line 84</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">persisted?</span>
  <span class="ruby-operator">!</span>(<span class="ruby-identifier">new_record?</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">destroyed?</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- persisted-3F-source -->
            
          </div>

          

          
        </div><!-- persisted-3F-method -->

      
        <div id="reload-method" class="method-detail ">
          <a name="method-i-reload"></a>

          
          <div class="method-heading">
            <span class="method-name">reload</span><span
              class="method-args">(options = nil)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Reloads the record from the database.</p>

<p>This method finds record by its primary key (which could be assigned
manually) and modifies the receiver in-place:</p>

<pre>account = Account.new
# =&gt; #&lt;Account id: nil, email: nil&gt;
account.id = 1
account.reload
# Account Load (1.2ms)  SELECT &quot;accounts&quot;.* FROM &quot;accounts&quot; WHERE &quot;accounts&quot;.&quot;id&quot; = $1 LIMIT 1  [[&quot;id&quot;, 1]]
# =&gt; #&lt;Account id: 1, email: 'account@example.com'&gt;</pre>

<p>Attributes are updated, and caches busted, in particular the associations
cache.</p>

<p>If the record no longer exists in the database
<tt>ActiveRecord::RecordNotFound</tt> is raised. Otherwise, in addition to
the in-place modification the method returns <tt>self</tt> for convenience.</p>

<p>The optional <tt>:lock</tt> flag option allows you to lock the reloaded
record:</p>

<pre>reload(lock: true) # reload with pessimistic locking</pre>

<p>Reloading is commonly used in test suites to test something is actually
written to the database, or when some action modifies the corresponding row
in the database but not the object in memory:</p>

<pre>assert account.deposit!(25)
assert_equal 25, account.credit        # check it is updated in memory
assert_equal 25, account.reload.credit # check it is also persisted</pre>

<p>Another commom use case is optimistic locking handling:</p>

<pre>def with_optimistic_retry
  begin
    yield
  rescue ActiveRecord::StaleObjectError
    begin
      # Reload lock_version in particular.
      reload
    rescue ActiveRecord::RecordNotFound
      # If the record is gone there is nothing to do.
    else
      retry
    end
  end
end</pre>
            

            
            <div class="method-source-code" id="reload-source">
<pre>
<span class="ruby-comment"># File lib/active_record/persistence.rb, line 383</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">reload</span>(<span class="ruby-identifier">options</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">clear_aggregation_cache</span>
  <span class="ruby-identifier">clear_association_cache</span>

  <span class="ruby-identifier">fresh_object</span> =
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">options</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:lock</span>]
      <span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">unscoped</span> { <span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">lock</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">id</span>) }
    <span class="ruby-keyword">else</span>
      <span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">unscoped</span> { <span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">id</span>) }
    <span class="ruby-keyword">end</span>

  <span class="ruby-ivar">@attributes</span>.<span class="ruby-identifier">update</span>(<span class="ruby-identifier">fresh_object</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-string">'@attributes'</span>))

  <span class="ruby-ivar">@column_types</span>           = <span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">column_types</span>
  <span class="ruby-ivar">@column_types_override</span>  = <span class="ruby-identifier">fresh_object</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-string">'@column_types_override'</span>)
  <span class="ruby-ivar">@attributes_cache</span>       = {}
  <span class="ruby-keyword">self</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- reload-source -->
            
          </div>

          

          
        </div><!-- reload-method -->

      
        <div id="save-method" class="method-detail ">
          <a name="method-i-save"></a>

          
          <div class="method-heading">
            <span class="method-name">save</span><span
              class="method-args">(*)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Saves the model.</p>

<p>If the model is new a record gets created in the database, otherwise the
existing record gets updated.</p>

<p>By default, save always run validations. If any of them fail the action is
cancelled and <tt>save</tt> returns <tt>false</tt>. However, if you supply
validate: false, validations are bypassed altogether. See <a
href="Validations.html">ActiveRecord::Validations</a> for more information.</p>

<p>There’s a series of callbacks associated with <tt>save</tt>. If any of the
<tt>before_*</tt> callbacks return <tt>false</tt> the action is cancelled
and <tt>save</tt> returns <tt>false</tt>. See <a
href="Callbacks.html">ActiveRecord::Callbacks</a> for further details.</p>

<p>Attributes marked as readonly are silently ignored if the record is being
updated.</p>
            

            
            <div class="method-source-code" id="save-source">
<pre>
<span class="ruby-comment"># File lib/active_record/persistence.rb, line 105</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">save</span>(*)
  <span class="ruby-identifier">create_or_update</span>
<span class="ruby-keyword">rescue</span> <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">RecordInvalid</span>
  <span class="ruby-keyword">false</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- save-source -->
            
          </div>

          

          
        </div><!-- save-method -->

      
        <div id="save-21-method" class="method-detail ">
          <a name="method-i-save-21"></a>

          
          <div class="method-heading">
            <span class="method-name">save!</span><span
              class="method-args">(*)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Saves the model.</p>

<p>If the model is new a record gets created in the database, otherwise the
existing record gets updated.</p>

<p>With <tt>save!</tt> validations always run. If any of them fail <a
href="RecordInvalid.html">ActiveRecord::RecordInvalid</a> gets raised. See
<a href="Validations.html">ActiveRecord::Validations</a> for more
information.</p>

<p>There’s a series of callbacks associated with <tt>save!</tt>. If any of the
<tt>before_*</tt> callbacks return <tt>false</tt> the action is cancelled
and <tt>save!</tt> raises <a
href="RecordNotSaved.html">ActiveRecord::RecordNotSaved</a>. See <a
href="Callbacks.html">ActiveRecord::Callbacks</a> for further details.</p>

<p>Attributes marked as readonly are silently ignored if the record is being
updated.</p>
            

            
            <div class="method-source-code" id="save-21-source">
<pre>
<span class="ruby-comment"># File lib/active_record/persistence.rb, line 127</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">save!</span>(*)
  <span class="ruby-identifier">create_or_update</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">raise</span>(<span class="ruby-constant">RecordNotSaved</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- save-21-source -->
            
          </div>

          

          
        </div><!-- save-21-method -->

      
        <div id="toggle-method" class="method-detail ">
          <a name="method-i-toggle"></a>

          
          <div class="method-heading">
            <span class="method-name">toggle</span><span
              class="method-args">(attribute)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Assigns to <tt>attribute</tt> the boolean opposite of <tt>attribute?</tt>.
So if the predicate returns <tt>true</tt> the attribute will become
<tt>false</tt>. This method toggles directly the underlying value without
calling any setter. Returns <tt>self</tt>.</p>
            

            
            <div class="method-source-code" id="toggle-source">
<pre>
<span class="ruby-comment"># File lib/active_record/persistence.rb, line 323</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">toggle</span>(<span class="ruby-identifier">attribute</span>)
  <span class="ruby-keyword">self</span>[<span class="ruby-identifier">attribute</span>] = <span class="ruby-operator">!</span><span class="ruby-identifier">send</span>(<span class="ruby-node">&quot;#{attribute}?&quot;</span>)
  <span class="ruby-keyword">self</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- toggle-source -->
            
          </div>

          

          
        </div><!-- toggle-method -->

      
        <div id="toggle-21-method" class="method-detail ">
          <a name="method-i-toggle-21"></a>

          
          <div class="method-heading">
            <span class="method-name">toggle!</span><span
              class="method-args">(attribute)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Wrapper around <tt>toggle</tt> that saves the record. This method differs
from its non-bang version in that it passes through the attribute setter.
Saving is not subjected to validation checks. Returns <tt>true</tt> if the
record could be saved.</p>
            

            
            <div class="method-source-code" id="toggle-21-source">
<pre>
<span class="ruby-comment"># File lib/active_record/persistence.rb, line 332</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">toggle!</span>(<span class="ruby-identifier">attribute</span>)
  <span class="ruby-identifier">toggle</span>(<span class="ruby-identifier">attribute</span>).<span class="ruby-identifier">update_attribute</span>(<span class="ruby-identifier">attribute</span>, <span class="ruby-keyword">self</span>[<span class="ruby-identifier">attribute</span>])
<span class="ruby-keyword">end</span></pre>
            </div><!-- toggle-21-source -->
            
          </div>

          

          
        </div><!-- toggle-21-method -->

      
        <div id="touch-method" class="method-detail ">
          <a name="method-i-touch"></a>

          
          <div class="method-heading">
            <span class="method-name">touch</span><span
              class="method-args">(name = nil)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Saves the record with the updated_at/on attributes set to the current time.
Please note that no validation is performed and only the
<tt>after_touch</tt> callback is executed. If an attribute name is passed,
that attribute is updated along with updated_at/on attributes.</p>

<pre>product.touch               # updates updated_at/on
product.touch(:designed_at) # updates the designed_at attribute and updated_at/on</pre>

<p>If used along with <tt>belongs_to</tt> then <tt>touch</tt> will invoke
<tt>touch</tt> method on associated object.</p>

<pre>class Brake &lt; ActiveRecord::Base
  belongs_to :car, touch: true
end

class Car &lt; ActiveRecord::Base
  belongs_to :corporation, touch: true
end

# triggers @brake.car.touch and @brake.car.corporation.touch
@brake.touch</pre>

<p>Note that <tt>touch</tt> must be used on a persisted object, or else an <a
href="ActiveRecordError.html">ActiveRecordError</a> will be thrown. For
example:</p>

<pre>ball = Ball.new
ball.touch(:updated_at)   # =&gt; raises ActiveRecordError</pre>
            

            
            <div class="method-source-code" id="touch-source">
<pre>
<span class="ruby-comment"># File lib/active_record/persistence.rb, line 430</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">touch</span>(<span class="ruby-identifier">name</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">raise</span> <span class="ruby-constant">ActiveRecordError</span>, <span class="ruby-string">&quot;can not touch on a new record object&quot;</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">persisted?</span>

  <span class="ruby-identifier">attributes</span> = <span class="ruby-identifier">timestamp_attributes_for_update_in_model</span>
  <span class="ruby-identifier">attributes</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">name</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">name</span>

  <span class="ruby-keyword">unless</span> <span class="ruby-identifier">attributes</span>.<span class="ruby-identifier">empty?</span>
    <span class="ruby-identifier">current_time</span> = <span class="ruby-identifier">current_time_from_proper_timezone</span>
    <span class="ruby-identifier">changes</span> = {}

    <span class="ruby-identifier">attributes</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">column</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">column</span> = <span class="ruby-identifier">column</span>.<span class="ruby-identifier">to_s</span>
      <span class="ruby-identifier">changes</span>[<span class="ruby-identifier">column</span>] = <span class="ruby-identifier">write_attribute</span>(<span class="ruby-identifier">column</span>, <span class="ruby-identifier">current_time</span>)
    <span class="ruby-keyword">end</span>

    <span class="ruby-identifier">changes</span>[<span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">locking_column</span>] = <span class="ruby-identifier">increment_lock</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">locking_enabled?</span>

    <span class="ruby-ivar">@changed_attributes</span>.<span class="ruby-identifier">except!</span>(*<span class="ruby-identifier">changes</span>.<span class="ruby-identifier">keys</span>)
    <span class="ruby-identifier">primary_key</span> = <span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">primary_key</span>
    <span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">unscoped</span>.<span class="ruby-identifier">where</span>(<span class="ruby-identifier">primary_key</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">self</span>[<span class="ruby-identifier">primary_key</span>]).<span class="ruby-identifier">update_all</span>(<span class="ruby-identifier">changes</span>) <span class="ruby-operator">==</span> <span class="ruby-value">1</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- touch-source -->
            
          </div>

          

          
        </div><!-- touch-method -->

      
        <div id="update-method" class="method-detail ">
          <a name="method-i-update"></a>

          
          <div class="method-heading">
            <span class="method-name">update</span><span
              class="method-args">(attributes)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Updates the attributes of the model from the passed-in hash and saves the
record, all wrapped in a transaction. If the object is invalid, the saving
will fail and false will be returned.</p>
            

            
            <div class="method-source-code" id="update-source">
<pre>
<span class="ruby-comment"># File lib/active_record/persistence.rb, line 225</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">update</span>(<span class="ruby-identifier">attributes</span>)
  <span class="ruby-comment"># The following transaction covers any possible database side-effects of the</span>
  <span class="ruby-comment"># attributes assignment. For example, setting the IDs of a child collection.</span>
  <span class="ruby-identifier">with_transaction_returning_status</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">assign_attributes</span>(<span class="ruby-identifier">attributes</span>)
    <span class="ruby-identifier">save</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- update-source -->
            
          </div>

          
          <div class="aliases">
            Also aliased as: <a href="Persistence.html#method-i-update_attributes">update_attributes</a>
          </div>
          

          
        </div><!-- update-method -->

      
        <div id="update-21-method" class="method-detail ">
          <a name="method-i-update-21"></a>

          
          <div class="method-heading">
            <span class="method-name">update!</span><span
              class="method-args">(attributes)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Updates its receiver just like <tt>update</tt> but calls <tt>save!</tt>
instead of <tt>save</tt>, so an exception is raised if the record is
invalid.</p>
            

            
            <div class="method-source-code" id="update-21-source">
<pre>
<span class="ruby-comment"># File lib/active_record/persistence.rb, line 238</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">update!</span>(<span class="ruby-identifier">attributes</span>)
  <span class="ruby-comment"># The following transaction covers any possible database side-effects of the</span>
  <span class="ruby-comment"># attributes assignment. For example, setting the IDs of a child collection.</span>
  <span class="ruby-identifier">with_transaction_returning_status</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">assign_attributes</span>(<span class="ruby-identifier">attributes</span>)
    <span class="ruby-identifier">save!</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- update-21-source -->
            
          </div>

          
          <div class="aliases">
            Also aliased as: <a href="Persistence.html#method-i-update_attributes-21">update_attributes!</a>
          </div>
          

          
        </div><!-- update-21-method -->

      
        <div id="update_attribute-method" class="method-detail ">
          <a name="method-i-update_attribute"></a>

          
          <div class="method-heading">
            <span class="method-name">update_attribute</span><span
              class="method-args">(name, value)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Updates a single attribute and saves the record. This is especially useful
for boolean flags on existing records. Also note that</p>
<ul><li>
<p>Validation is skipped.</p>
</li><li>
<p><a href="Callbacks.html">Callbacks</a> are invoked.</p>
</li><li>
<p>updated_at/updated_on column is updated if that column is available.</p>
</li><li>
<p>Updates all the attributes that are dirty in this object.</p>
</li></ul>

<p>This method raises an +ActiveRecord::ActiveRecordError+  if the attribute
is marked as readonly.</p>
            

            
            <div class="method-source-code" id="update_attribute-source">
<pre>
<span class="ruby-comment"># File lib/active_record/persistence.rb, line 215</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">update_attribute</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">value</span>)
  <span class="ruby-identifier">name</span> = <span class="ruby-identifier">name</span>.<span class="ruby-identifier">to_s</span>
  <span class="ruby-identifier">verify_readonly_attribute</span>(<span class="ruby-identifier">name</span>)
  <span class="ruby-identifier">send</span>(<span class="ruby-node">&quot;#{name}=&quot;</span>, <span class="ruby-identifier">value</span>)
  <span class="ruby-identifier">save</span>(<span class="ruby-identifier">validate</span><span class="ruby-operator">:</span> <span class="ruby-keyword">false</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- update_attribute-source -->
            
          </div>

          

          
        </div><!-- update_attribute-method -->

      
        <div id="update_attributes-method" class="method-detail method-alias">
          <a name="method-i-update_attributes"></a>

          
          <div class="method-heading">
            <span class="method-name">update_attributes</span><span
              class="method-args">(attributes)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            
            

            
          </div>

          

          
          <div class="aliases">
            Alias for: <a href="Persistence.html#method-i-update">update</a>
          </div>
          
        </div><!-- update_attributes-method -->

      
        <div id="update_attributes-21-method" class="method-detail method-alias">
          <a name="method-i-update_attributes-21"></a>

          
          <div class="method-heading">
            <span class="method-name">update_attributes!</span><span
              class="method-args">(attributes)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            
            

            
          </div>

          

          
          <div class="aliases">
            Alias for: <a href="Persistence.html#method-i-update-21">update!</a>
          </div>
          
        </div><!-- update_attributes-21-method -->

      
        <div id="update_column-method" class="method-detail ">
          <a name="method-i-update_column"></a>

          
          <div class="method-heading">
            <span class="method-name">update_column</span><span
              class="method-args">(name, value)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Equivalent to <tt>update_columns(name =&gt; value)</tt>.</p>
            

            
            <div class="method-source-code" id="update_column-source">
<pre>
<span class="ruby-comment"># File lib/active_record/persistence.rb, line 250</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">update_column</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">value</span>)
  <span class="ruby-identifier">update_columns</span>(<span class="ruby-identifier">name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">value</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- update_column-source -->
            
          </div>

          

          
        </div><!-- update_column-method -->

      
        <div id="update_columns-method" class="method-detail ">
          <a name="method-i-update_columns"></a>

          
          <div class="method-heading">
            <span class="method-name">update_columns</span><span
              class="method-args">(attributes)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Updates the attributes directly in the database issuing an UPDATE SQL
statement and sets them in the receiver:</p>

<pre>user.update_columns(last_request_at: Time.current)</pre>

<p>This is the fastest way to update attributes because it goes straight to
the database, but take into account that in consequence the regular update
procedures are totally bypassed. In particular:</p>
<ul><li>
<p><a href="Validations.html">Validations</a> are skipped.</p>
</li><li>
<p><a href="Callbacks.html">Callbacks</a> are skipped.</p>
</li><li>
<p><tt>updated_at</tt>/<tt>updated_on</tt> are not updated.</p>
</li></ul>

<p>This method raises an +ActiveRecord::ActiveRecordError+ when called on new
objects, or when at least one of the attributes is marked as readonly.</p>
            

            
            <div class="method-source-code" id="update_columns-source">
<pre>
<span class="ruby-comment"># File lib/active_record/persistence.rb, line 269</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">update_columns</span>(<span class="ruby-identifier">attributes</span>)
  <span class="ruby-identifier">raise</span> <span class="ruby-constant">ActiveRecordError</span>, <span class="ruby-string">&quot;can not update on a new record object&quot;</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">persisted?</span>

  <span class="ruby-identifier">attributes</span>.<span class="ruby-identifier">each_key</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">key</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">verify_readonly_attribute</span>(<span class="ruby-identifier">key</span>.<span class="ruby-identifier">to_s</span>)
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">updated_count</span> = <span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">unscoped</span>.<span class="ruby-identifier">where</span>(<span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">primary_key</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">id</span>).<span class="ruby-identifier">update_all</span>(<span class="ruby-identifier">attributes</span>)

  <span class="ruby-identifier">attributes</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">k</span>, <span class="ruby-identifier">v</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">raw_write_attribute</span>(<span class="ruby-identifier">k</span>, <span class="ruby-identifier">v</span>)
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">updated_count</span> <span class="ruby-operator">==</span> <span class="ruby-value">1</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- update_columns-source -->
            
          </div>

          

          
        </div><!-- update_columns-method -->

      
      </div><!-- public-instance-method-details -->
    
    </div><!-- 5Buntitled-5D -->
  

  </div><!-- documentation -->

  <div id="validator-badges">
    <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
    <p><small>Generated with the <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish
      Rdoc Generator</a> 2</small>.</p>
  </div>

</body>
</html>

