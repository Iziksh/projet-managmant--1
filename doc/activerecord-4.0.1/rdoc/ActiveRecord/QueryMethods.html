<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <meta content="text/html; charset=UTF-8" http-equiv="Content-Type" />

  <title>Module: ActiveRecord::QueryMethods</title>

  <link rel="stylesheet" href="../rdoc.css" type="text/css" media="screen" />

  <script src="../js/jquery.js" type="text/javascript" charset="utf-8"></script>
  <script src="../js/thickbox-compressed.js" type="text/javascript" charset="utf-8"></script>
  <script src="../js/quicksearch.js" type="text/javascript" charset="utf-8"></script>
  <script src="../js/darkfish.js" type="text/javascript" charset="utf-8"></script>

</head>
<body id="top" class="module">

  <div id="metadata">
    <div id="home-metadata">
      <div id="home-section" class="section">
        <h3 class="section-header">
          <a href="../index.html">Home</a>
          <a href="../index.html#classes">Classes</a>
          <a href="../index.html#methods">Methods</a>
        </h3>
      </div>
    </div>

    <div id="file-metadata">
      <div id="file-list-section" class="section">
        <h3 class="section-header">In Files</h3>
        <div class="section-body">
          <ul>
          
            <li><a href="../lib/active_record/relation/query_methods_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
              class="thickbox" title="lib/active_record/relation/query_methods.rb">lib/active_record/relation/query_methods.rb</a></li>
          
          </ul>
        </div>
      </div>

      
    </div>

    <div id="class-metadata">
      

      

      
      <!-- Namespace Contents -->
      <div id="namespace-list-section" class="section">
        <h3 class="section-header">Namespace</h3>
        <ul class="link-list">
          
          <li><span class="type">CLASS</span> <a href="QueryMethods/WhereChain.html">ActiveRecord::QueryMethods::WhereChain</a></li>
          
        </ul>
      </div>
      

      
      <!-- Method Quickref -->
      <div id="method-list-section" class="section">
        <h3 class="section-header">Methods</h3>
        <ul class="link-list">
          
          <li><a href="#method-i-arel">#arel</a></li>
          
          <li><a href="#method-i-bind">#bind</a></li>
          
          <li><a href="#method-i-build_arel">#build_arel</a></li>
          
          <li><a href="#method-i-create_with">#create_with</a></li>
          
          <li><a href="#method-i-distinct">#distinct</a></li>
          
          <li><a href="#method-i-eager_load">#eager_load</a></li>
          
          <li><a href="#method-i-extending">#extending</a></li>
          
          <li><a href="#method-i-from">#from</a></li>
          
          <li><a href="#method-i-group">#group</a></li>
          
          <li><a href="#method-i-having">#having</a></li>
          
          <li><a href="#method-i-includes">#includes</a></li>
          
          <li><a href="#method-i-joins">#joins</a></li>
          
          <li><a href="#method-i-limit">#limit</a></li>
          
          <li><a href="#method-i-lock">#lock</a></li>
          
          <li><a href="#method-i-none">#none</a></li>
          
          <li><a href="#method-i-offset">#offset</a></li>
          
          <li><a href="#method-i-order">#order</a></li>
          
          <li><a href="#method-i-preload">#preload</a></li>
          
          <li><a href="#method-i-readonly">#readonly</a></li>
          
          <li><a href="#method-i-references">#references</a></li>
          
          <li><a href="#method-i-reorder">#reorder</a></li>
          
          <li><a href="#method-i-reverse_order">#reverse_order</a></li>
          
          <li><a href="#method-i-select">#select</a></li>
          
          <li><a href="#method-i-uniq">#uniq</a></li>
          
          <li><a href="#method-i-unscope">#unscope</a></li>
          
          <li><a href="#method-i-where">#where</a></li>
          
        </ul>
      </div>
      

      
    </div>

    <div id="project-metadata">
      
      
      <div id="fileindex-section" class="section project-section">
        <h3 class="section-header">Files</h3>
        <ul>
        
          <li class="file"><a href="../README_rdoc.html">README.rdoc</a></li>
        
        </ul>
      </div>
      

      <div id="classindex-section" class="section project-section">
        <h3 class="section-header">Class/Module Index
          <span class="search-toggle"><img src="../images/find.png"
            height="16" width="16" alt="[+]"
            title="show/hide quicksearch" /></span></h3>
        <form action="#" method="get" accept-charset="utf-8" class="initially-hidden">
        <fieldset>
          <legend>Quicksearch</legend>
          <input type="text" name="quicksearch" value=""
            class="quicksearch-field" />
        </fieldset>
        </form>

        <ul class="link-list">
        
          <li><a href="../ActiveRecord.html">ActiveRecord</a></li>
        
          <li><a href="../ActiveRecord/ActiveRecordError.html">ActiveRecord::ActiveRecordError</a></li>
        
          <li><a href="../ActiveRecord/AdapterNotFound.html">ActiveRecord::AdapterNotFound</a></li>
        
          <li><a href="../ActiveRecord/AdapterNotSpecified.html">ActiveRecord::AdapterNotSpecified</a></li>
        
          <li><a href="../ActiveRecord/Aggregations.html">ActiveRecord::Aggregations</a></li>
        
          <li><a href="../ActiveRecord/Aggregations/ClassMethods.html">ActiveRecord::Aggregations::ClassMethods</a></li>
        
          <li><a href="../ActiveRecord/AssociationRelation.html">ActiveRecord::AssociationRelation</a></li>
        
          <li><a href="../ActiveRecord/AssociationTypeMismatch.html">ActiveRecord::AssociationTypeMismatch</a></li>
        
          <li><a href="../ActiveRecord/Associations.html">ActiveRecord::Associations</a></li>
        
          <li><a href="../ActiveRecord/Associations/ClassMethods.html">ActiveRecord::Associations::ClassMethods</a></li>
        
          <li><a href="../ActiveRecord/Associations/CollectionProxy.html">ActiveRecord::Associations::CollectionProxy</a></li>
        
          <li><a href="../ActiveRecord/AttributeAssignment.html">ActiveRecord::AttributeAssignment</a></li>
        
          <li><a href="../ActiveRecord/AttributeAssignmentError.html">ActiveRecord::AttributeAssignmentError</a></li>
        
          <li><a href="../ActiveRecord/AttributeMethods.html">ActiveRecord::AttributeMethods</a></li>
        
          <li><a href="../ActiveRecord/AttributeMethods/BeforeTypeCast.html">ActiveRecord::AttributeMethods::BeforeTypeCast</a></li>
        
          <li><a href="../ActiveRecord/AttributeMethods/ClassMethods.html">ActiveRecord::AttributeMethods::ClassMethods</a></li>
        
          <li><a href="../ActiveRecord/AttributeMethods/PrimaryKey.html">ActiveRecord::AttributeMethods::PrimaryKey</a></li>
        
          <li><a href="../ActiveRecord/AttributeMethods/PrimaryKey/ClassMethods.html">ActiveRecord::AttributeMethods::PrimaryKey::ClassMethods</a></li>
        
          <li><a href="../ActiveRecord/AttributeMethods/Query.html">ActiveRecord::AttributeMethods::Query</a></li>
        
          <li><a href="../ActiveRecord/AttributeMethods/Read.html">ActiveRecord::AttributeMethods::Read</a></li>
        
          <li><a href="../ActiveRecord/AttributeMethods/Read/ClassMethods.html">ActiveRecord::AttributeMethods::Read::ClassMethods</a></li>
        
          <li><a href="../ActiveRecord/AttributeMethods/Serialization.html">ActiveRecord::AttributeMethods::Serialization</a></li>
        
          <li><a href="../ActiveRecord/AttributeMethods/Serialization/ClassMethods.html">ActiveRecord::AttributeMethods::Serialization::ClassMethods</a></li>
        
          <li><a href="../ActiveRecord/AttributeMethods/TimeZoneConversion.html">ActiveRecord::AttributeMethods::TimeZoneConversion</a></li>
        
          <li><a href="../ActiveRecord/AttributeMethods/TimeZoneConversion/ClassMethods.html">ActiveRecord::AttributeMethods::TimeZoneConversion::ClassMethods</a></li>
        
          <li><a href="../ActiveRecord/AttributeMethods/Write.html">ActiveRecord::AttributeMethods::Write</a></li>
        
          <li><a href="../ActiveRecord/AttributeMethods/Write/ClassMethods.html">ActiveRecord::AttributeMethods::Write::ClassMethods</a></li>
        
          <li><a href="../ActiveRecord/AutosaveAssociation.html">ActiveRecord::AutosaveAssociation</a></li>
        
          <li><a href="../ActiveRecord/AutosaveAssociation/ClassMethods.html">ActiveRecord::AutosaveAssociation::ClassMethods</a></li>
        
          <li><a href="../ActiveRecord/Base.html">ActiveRecord::Base</a></li>
        
          <li><a href="../ActiveRecord/Batches.html">ActiveRecord::Batches</a></li>
        
          <li><a href="../ActiveRecord/Calculations.html">ActiveRecord::Calculations</a></li>
        
          <li><a href="../ActiveRecord/Callbacks.html">ActiveRecord::Callbacks</a></li>
        
          <li><a href="../ActiveRecord/Callbacks/ClassMethods.html">ActiveRecord::Callbacks::ClassMethods</a></li>
        
          <li><a href="../ActiveRecord/ConfigurationError.html">ActiveRecord::ConfigurationError</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters.html">ActiveRecord::ConnectionAdapters</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/AbstractAdapter.html">ActiveRecord::ConnectionAdapters::AbstractAdapter</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/AbstractAdapter/SchemaCreation.html">ActiveRecord::ConnectionAdapters::AbstractAdapter::SchemaCreation</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/AbstractMysqlAdapter.html">ActiveRecord::ConnectionAdapters::AbstractMysqlAdapter</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/AbstractMysqlAdapter/SchemaCreation.html">ActiveRecord::ConnectionAdapters::AbstractMysqlAdapter::SchemaCreation</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/ColumnDumper.html">ActiveRecord::ConnectionAdapters::ColumnDumper</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/ConnectionHandler.html">ActiveRecord::ConnectionAdapters::ConnectionHandler</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/ConnectionManagement.html">ActiveRecord::ConnectionAdapters::ConnectionManagement</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/ConnectionPool.html">ActiveRecord::ConnectionAdapters::ConnectionPool</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/ConnectionPool/Queue.html">ActiveRecord::ConnectionAdapters::ConnectionPool::Queue</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/ConnectionPool/Reaper.html">ActiveRecord::ConnectionAdapters::ConnectionPool::Reaper</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/DatabaseLimits.html">ActiveRecord::ConnectionAdapters::DatabaseLimits</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/DatabaseStatements.html">ActiveRecord::ConnectionAdapters::DatabaseStatements</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/Mysql2Adapter.html">ActiveRecord::ConnectionAdapters::Mysql2Adapter</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/MysqlAdapter.html">ActiveRecord::ConnectionAdapters::MysqlAdapter</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/MysqlAdapter/Fields.html">ActiveRecord::ConnectionAdapters::MysqlAdapter::Fields</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/MysqlAdapter/Fields/Boolean.html">ActiveRecord::ConnectionAdapters::MysqlAdapter::Fields::Boolean</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/MysqlAdapter/Fields/Date.html">ActiveRecord::ConnectionAdapters::MysqlAdapter::Fields::Date</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/MysqlAdapter/Fields/DateTime.html">ActiveRecord::ConnectionAdapters::MysqlAdapter::Fields::DateTime</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/MysqlAdapter/Fields/Decimal.html">ActiveRecord::ConnectionAdapters::MysqlAdapter::Fields::Decimal</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/MysqlAdapter/Fields/Float.html">ActiveRecord::ConnectionAdapters::MysqlAdapter::Fields::Float</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/MysqlAdapter/Fields/Identity.html">ActiveRecord::ConnectionAdapters::MysqlAdapter::Fields::Identity</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/MysqlAdapter/Fields/Integer.html">ActiveRecord::ConnectionAdapters::MysqlAdapter::Fields::Integer</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/MysqlAdapter/Fields/Time.html">ActiveRecord::ConnectionAdapters::MysqlAdapter::Fields::Time</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/MysqlAdapter/Fields/Type.html">ActiveRecord::ConnectionAdapters::MysqlAdapter::Fields::Type</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/MysqlAdapter/StatementPool.html">ActiveRecord::ConnectionAdapters::MysqlAdapter::StatementPool</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/PostgreSQLAdapter.html">ActiveRecord::ConnectionAdapters::PostgreSQLAdapter</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/PostgreSQLAdapter/ColumnDefinition.html">ActiveRecord::ConnectionAdapters::PostgreSQLAdapter::ColumnDefinition</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/PostgreSQLAdapter/ColumnMethods.html">ActiveRecord::ConnectionAdapters::PostgreSQLAdapter::ColumnMethods</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/PostgreSQLAdapter/DatabaseStatements.html">ActiveRecord::ConnectionAdapters::PostgreSQLAdapter::DatabaseStatements</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/PostgreSQLAdapter/OID.html">ActiveRecord::ConnectionAdapters::PostgreSQLAdapter::OID</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/PostgreSQLAdapter/OID/Array.html">ActiveRecord::ConnectionAdapters::PostgreSQLAdapter::OID::Array</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/PostgreSQLAdapter/OID/Bit.html">ActiveRecord::ConnectionAdapters::PostgreSQLAdapter::OID::Bit</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/PostgreSQLAdapter/OID/Boolean.html">ActiveRecord::ConnectionAdapters::PostgreSQLAdapter::OID::Boolean</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/PostgreSQLAdapter/OID/Bytea.html">ActiveRecord::ConnectionAdapters::PostgreSQLAdapter::OID::Bytea</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/PostgreSQLAdapter/OID/Cidr.html">ActiveRecord::ConnectionAdapters::PostgreSQLAdapter::OID::Cidr</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/PostgreSQLAdapter/OID/Date.html">ActiveRecord::ConnectionAdapters::PostgreSQLAdapter::OID::Date</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/PostgreSQLAdapter/OID/Decimal.html">ActiveRecord::ConnectionAdapters::PostgreSQLAdapter::OID::Decimal</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/PostgreSQLAdapter/OID/Float.html">ActiveRecord::ConnectionAdapters::PostgreSQLAdapter::OID::Float</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/PostgreSQLAdapter/OID/Hstore.html">ActiveRecord::ConnectionAdapters::PostgreSQLAdapter::OID::Hstore</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/PostgreSQLAdapter/OID/Identity.html">ActiveRecord::ConnectionAdapters::PostgreSQLAdapter::OID::Identity</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/PostgreSQLAdapter/OID/Integer.html">ActiveRecord::ConnectionAdapters::PostgreSQLAdapter::OID::Integer</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/PostgreSQLAdapter/OID/Json.html">ActiveRecord::ConnectionAdapters::PostgreSQLAdapter::OID::Json</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/PostgreSQLAdapter/OID/Money.html">ActiveRecord::ConnectionAdapters::PostgreSQLAdapter::OID::Money</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/PostgreSQLAdapter/OID/Point.html">ActiveRecord::ConnectionAdapters::PostgreSQLAdapter::OID::Point</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/PostgreSQLAdapter/OID/Range.html">ActiveRecord::ConnectionAdapters::PostgreSQLAdapter::OID::Range</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/PostgreSQLAdapter/OID/Time.html">ActiveRecord::ConnectionAdapters::PostgreSQLAdapter::OID::Time</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/PostgreSQLAdapter/OID/Timestamp.html">ActiveRecord::ConnectionAdapters::PostgreSQLAdapter::OID::Timestamp</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/PostgreSQLAdapter/OID/Type.html">ActiveRecord::ConnectionAdapters::PostgreSQLAdapter::OID::Type</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/PostgreSQLAdapter/OID/TypeMap.html">ActiveRecord::ConnectionAdapters::PostgreSQLAdapter::OID::TypeMap</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/PostgreSQLAdapter/OID/Vector.html">ActiveRecord::ConnectionAdapters::PostgreSQLAdapter::OID::Vector</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/PostgreSQLAdapter/Quoting.html">ActiveRecord::ConnectionAdapters::PostgreSQLAdapter::Quoting</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/PostgreSQLAdapter/ReferentialIntegrity.html">ActiveRecord::ConnectionAdapters::PostgreSQLAdapter::ReferentialIntegrity</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/PostgreSQLAdapter/SchemaCreation.html">ActiveRecord::ConnectionAdapters::PostgreSQLAdapter::SchemaCreation</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/PostgreSQLAdapter/SchemaStatements.html">ActiveRecord::ConnectionAdapters::PostgreSQLAdapter::SchemaStatements</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/PostgreSQLAdapter/StatementPool.html">ActiveRecord::ConnectionAdapters::PostgreSQLAdapter::StatementPool</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/PostgreSQLAdapter/Table.html">ActiveRecord::ConnectionAdapters::PostgreSQLAdapter::Table</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/PostgreSQLAdapter/TableDefinition.html">ActiveRecord::ConnectionAdapters::PostgreSQLAdapter::TableDefinition</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/PostgreSQLAdapter/Utils.html">ActiveRecord::ConnectionAdapters::PostgreSQLAdapter::Utils</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/PostgreSQLColumn.html">ActiveRecord::ConnectionAdapters::PostgreSQLColumn</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/PostgreSQLColumn/ArrayParser.html">ActiveRecord::ConnectionAdapters::PostgreSQLColumn::ArrayParser</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/PostgreSQLColumn/Cast.html">ActiveRecord::ConnectionAdapters::PostgreSQLColumn::Cast</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/QueryCache.html">ActiveRecord::ConnectionAdapters::QueryCache</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/Quoting.html">ActiveRecord::ConnectionAdapters::Quoting</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/SQLite3Adapter.html">ActiveRecord::ConnectionAdapters::SQLite3Adapter</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/SQLite3Adapter/ExplainPrettyPrinter.html">ActiveRecord::ConnectionAdapters::SQLite3Adapter::ExplainPrettyPrinter</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/SQLite3Adapter/StatementPool.html">ActiveRecord::ConnectionAdapters::SQLite3Adapter::StatementPool</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/SQLite3Adapter/Version.html">ActiveRecord::ConnectionAdapters::SQLite3Adapter::Version</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/SchemaCache.html">ActiveRecord::ConnectionAdapters::SchemaCache</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/SchemaStatements.html">ActiveRecord::ConnectionAdapters::SchemaStatements</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/StatementPool.html">ActiveRecord::ConnectionAdapters::StatementPool</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/Table.html">ActiveRecord::ConnectionAdapters::Table</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/TableDefinition.html">ActiveRecord::ConnectionAdapters::TableDefinition</a></li>
        
          <li><a href="../ActiveRecord/ConnectionAdapters/TransactionState.html">ActiveRecord::ConnectionAdapters::TransactionState</a></li>
        
          <li><a href="../ActiveRecord/ConnectionHandling.html">ActiveRecord::ConnectionHandling</a></li>
        
          <li><a href="../ActiveRecord/ConnectionNotEstablished.html">ActiveRecord::ConnectionNotEstablished</a></li>
        
          <li><a href="../ActiveRecord/ConnectionTimeoutError.html">ActiveRecord::ConnectionTimeoutError</a></li>
        
          <li><a href="../ActiveRecord/Core.html">ActiveRecord::Core</a></li>
        
          <li><a href="../ActiveRecord/Core/ClassMethods.html">ActiveRecord::Core::ClassMethods</a></li>
        
          <li><a href="../ActiveRecord/CounterCache.html">ActiveRecord::CounterCache</a></li>
        
          <li><a href="../ActiveRecord/CounterCache/ClassMethods.html">ActiveRecord::CounterCache::ClassMethods</a></li>
        
          <li><a href="../ActiveRecord/DangerousAttributeError.html">ActiveRecord::DangerousAttributeError</a></li>
        
          <li><a href="../ActiveRecord/DynamicMatchers.html">ActiveRecord::DynamicMatchers</a></li>
        
          <li><a href="../ActiveRecord/DynamicMatchers/FindBy.html">ActiveRecord::DynamicMatchers::FindBy</a></li>
        
          <li><a href="../ActiveRecord/DynamicMatchers/FindByBang.html">ActiveRecord::DynamicMatchers::FindByBang</a></li>
        
          <li><a href="../ActiveRecord/DynamicMatchers/Finder.html">ActiveRecord::DynamicMatchers::Finder</a></li>
        
          <li><a href="../ActiveRecord/DynamicMatchers/Method.html">ActiveRecord::DynamicMatchers::Method</a></li>
        
          <li><a href="../ActiveRecord/Explain.html">ActiveRecord::Explain</a></li>
        
          <li><a href="../ActiveRecord/FinderMethods.html">ActiveRecord::FinderMethods</a></li>
        
          <li><a href="../ActiveRecord/FixtureSet.html">ActiveRecord::FixtureSet</a></li>
        
          <li><a href="../ActiveRecord/ImmutableRelation.html">ActiveRecord::ImmutableRelation</a></li>
        
          <li><a href="../ActiveRecord/Inheritance.html">ActiveRecord::Inheritance</a></li>
        
          <li><a href="../ActiveRecord/Inheritance/ClassMethods.html">ActiveRecord::Inheritance::ClassMethods</a></li>
        
          <li><a href="../ActiveRecord/Integration.html">ActiveRecord::Integration</a></li>
        
          <li><a href="../ActiveRecord/InvalidForeignKey.html">ActiveRecord::InvalidForeignKey</a></li>
        
          <li><a href="../ActiveRecord/IrreversibleMigration.html">ActiveRecord::IrreversibleMigration</a></li>
        
          <li><a href="../ActiveRecord/Locking.html">ActiveRecord::Locking</a></li>
        
          <li><a href="../ActiveRecord/Locking/Optimistic.html">ActiveRecord::Locking::Optimistic</a></li>
        
          <li><a href="../ActiveRecord/Locking/Optimistic/ClassMethods.html">ActiveRecord::Locking::Optimistic::ClassMethods</a></li>
        
          <li><a href="../ActiveRecord/Locking/Pessimistic.html">ActiveRecord::Locking::Pessimistic</a></li>
        
          <li><a href="../ActiveRecord/LogSubscriber.html">ActiveRecord::LogSubscriber</a></li>
        
          <li><a href="../ActiveRecord/Migration.html">ActiveRecord::Migration</a></li>
        
          <li><a href="../ActiveRecord/Migration/CheckPending.html">ActiveRecord::Migration::CheckPending</a></li>
        
          <li><a href="../ActiveRecord/Migration/CommandRecorder.html">ActiveRecord::Migration::CommandRecorder</a></li>
        
          <li><a href="../ActiveRecord/Migration/CommandRecorder/StraightReversions.html">ActiveRecord::Migration::CommandRecorder::StraightReversions</a></li>
        
          <li><a href="../ActiveRecord/MigrationProxy.html">ActiveRecord::MigrationProxy</a></li>
        
          <li><a href="../ActiveRecord/ModelSchema.html">ActiveRecord::ModelSchema</a></li>
        
          <li><a href="../ActiveRecord/ModelSchema/ClassMethods.html">ActiveRecord::ModelSchema::ClassMethods</a></li>
        
          <li><a href="../ActiveRecord/MultiparameterAssignmentErrors.html">ActiveRecord::MultiparameterAssignmentErrors</a></li>
        
          <li><a href="../ActiveRecord/NestedAttributes.html">ActiveRecord::NestedAttributes</a></li>
        
          <li><a href="../ActiveRecord/NestedAttributes/ClassMethods.html">ActiveRecord::NestedAttributes::ClassMethods</a></li>
        
          <li><a href="../ActiveRecord/NestedAttributes/TooManyRecords.html">ActiveRecord::NestedAttributes::TooManyRecords</a></li>
        
          <li><a href="../ActiveRecord/Persistence.html">ActiveRecord::Persistence</a></li>
        
          <li><a href="../ActiveRecord/Persistence/ClassMethods.html">ActiveRecord::Persistence::ClassMethods</a></li>
        
          <li><a href="../ActiveRecord/PreparedStatementInvalid.html">ActiveRecord::PreparedStatementInvalid</a></li>
        
          <li><a href="../ActiveRecord/QueryCache.html">ActiveRecord::QueryCache</a></li>
        
          <li><a href="../ActiveRecord/QueryCache/ClassMethods.html">ActiveRecord::QueryCache::ClassMethods</a></li>
        
          <li><a href="../ActiveRecord/QueryMethods.html">ActiveRecord::QueryMethods</a></li>
        
          <li><a href="../ActiveRecord/QueryMethods/WhereChain.html">ActiveRecord::QueryMethods::WhereChain</a></li>
        
          <li><a href="../ActiveRecord/Querying.html">ActiveRecord::Querying</a></li>
        
          <li><a href="../ActiveRecord/ReadOnlyRecord.html">ActiveRecord::ReadOnlyRecord</a></li>
        
          <li><a href="../ActiveRecord/ReadonlyAttributes.html">ActiveRecord::ReadonlyAttributes</a></li>
        
          <li><a href="../ActiveRecord/ReadonlyAttributes/ClassMethods.html">ActiveRecord::ReadonlyAttributes::ClassMethods</a></li>
        
          <li><a href="../ActiveRecord/RecordInvalid.html">ActiveRecord::RecordInvalid</a></li>
        
          <li><a href="../ActiveRecord/RecordNotDestroyed.html">ActiveRecord::RecordNotDestroyed</a></li>
        
          <li><a href="../ActiveRecord/RecordNotFound.html">ActiveRecord::RecordNotFound</a></li>
        
          <li><a href="../ActiveRecord/RecordNotSaved.html">ActiveRecord::RecordNotSaved</a></li>
        
          <li><a href="../ActiveRecord/RecordNotUnique.html">ActiveRecord::RecordNotUnique</a></li>
        
          <li><a href="../ActiveRecord/Reflection.html">ActiveRecord::Reflection</a></li>
        
          <li><a href="../ActiveRecord/Reflection/ClassMethods.html">ActiveRecord::Reflection::ClassMethods</a></li>
        
          <li><a href="../ActiveRecord/Reflection/MacroReflection.html">ActiveRecord::Reflection::MacroReflection</a></li>
        
          <li><a href="../ActiveRecord/Relation.html">ActiveRecord::Relation</a></li>
        
          <li><a href="../ActiveRecord/Result.html">ActiveRecord::Result</a></li>
        
          <li><a href="../ActiveRecord/Rollback.html">ActiveRecord::Rollback</a></li>
        
          <li><a href="../ActiveRecord/SQLCounter.html">ActiveRecord::SQLCounter</a></li>
        
          <li><a href="../ActiveRecord/Sanitization.html">ActiveRecord::Sanitization</a></li>
        
          <li><a href="../ActiveRecord/Sanitization/ClassMethods.html">ActiveRecord::Sanitization::ClassMethods</a></li>
        
          <li><a href="../ActiveRecord/Schema.html">ActiveRecord::Schema</a></li>
        
          <li><a href="../ActiveRecord/SchemaMigration.html">ActiveRecord::SchemaMigration</a></li>
        
          <li><a href="../ActiveRecord/Scoping.html">ActiveRecord::Scoping</a></li>
        
          <li><a href="../ActiveRecord/Scoping/ClassMethods.html">ActiveRecord::Scoping::ClassMethods</a></li>
        
          <li><a href="../ActiveRecord/Scoping/Default.html">ActiveRecord::Scoping::Default</a></li>
        
          <li><a href="../ActiveRecord/Scoping/Default/ClassMethods.html">ActiveRecord::Scoping::Default::ClassMethods</a></li>
        
          <li><a href="../ActiveRecord/Scoping/Named.html">ActiveRecord::Scoping::Named</a></li>
        
          <li><a href="../ActiveRecord/Scoping/Named/ClassMethods.html">ActiveRecord::Scoping::Named::ClassMethods</a></li>
        
          <li><a href="../ActiveRecord/Serialization.html">ActiveRecord::Serialization</a></li>
        
          <li><a href="../ActiveRecord/SerializationTypeMismatch.html">ActiveRecord::SerializationTypeMismatch</a></li>
        
          <li><a href="../ActiveRecord/SpawnMethods.html">ActiveRecord::SpawnMethods</a></li>
        
          <li><a href="../ActiveRecord/StaleObjectError.html">ActiveRecord::StaleObjectError</a></li>
        
          <li><a href="../ActiveRecord/StatementCache.html">ActiveRecord::StatementCache</a></li>
        
          <li><a href="../ActiveRecord/StatementInvalid.html">ActiveRecord::StatementInvalid</a></li>
        
          <li><a href="../ActiveRecord/Store.html">ActiveRecord::Store</a></li>
        
          <li><a href="../ActiveRecord/Store/ClassMethods.html">ActiveRecord::Store::ClassMethods</a></li>
        
          <li><a href="../ActiveRecord/Tasks.html">ActiveRecord::Tasks</a></li>
        
          <li><a href="../ActiveRecord/Tasks/DatabaseAlreadyExists.html">ActiveRecord::Tasks::DatabaseAlreadyExists</a></li>
        
          <li><a href="../ActiveRecord/Tasks/DatabaseNotSupported.html">ActiveRecord::Tasks::DatabaseNotSupported</a></li>
        
          <li><a href="../ActiveRecord/Tasks/DatabaseTasks.html">ActiveRecord::Tasks::DatabaseTasks</a></li>
        
          <li><a href="../ActiveRecord/TestFixtures.html">ActiveRecord::TestFixtures</a></li>
        
          <li><a href="../ActiveRecord/TestFixtures/ClassMethods.html">ActiveRecord::TestFixtures::ClassMethods</a></li>
        
          <li><a href="../ActiveRecord/ThrowResult.html">ActiveRecord::ThrowResult</a></li>
        
          <li><a href="../ActiveRecord/Timestamp.html">ActiveRecord::Timestamp</a></li>
        
          <li><a href="../ActiveRecord/TransactionIsolationError.html">ActiveRecord::TransactionIsolationError</a></li>
        
          <li><a href="../ActiveRecord/Transactions.html">ActiveRecord::Transactions</a></li>
        
          <li><a href="../ActiveRecord/Transactions/ClassMethods.html">ActiveRecord::Transactions::ClassMethods</a></li>
        
          <li><a href="../ActiveRecord/Translation.html">ActiveRecord::Translation</a></li>
        
          <li><a href="../ActiveRecord/UnknownAttributeError.html">ActiveRecord::UnknownAttributeError</a></li>
        
          <li><a href="../ActiveRecord/UnknownPrimaryKey.html">ActiveRecord::UnknownPrimaryKey</a></li>
        
          <li><a href="../ActiveRecord/Validations.html">ActiveRecord::Validations</a></li>
        
          <li><a href="../ActiveRecord/Validations/ClassMethods.html">ActiveRecord::Validations::ClassMethods</a></li>
        
          <li><a href="../ActiveRecord/WrappedDatabaseException.html">ActiveRecord::WrappedDatabaseException</a></li>
        
          <li><a href="../Mysql.html">Mysql</a></li>
        
          <li><a href="../Mysql/Result.html">Mysql::Result</a></li>
        
          <li><a href="../Mysql/Stmt.html">Mysql::Stmt</a></li>
        
          <li><a href="../Mysql/Time.html">Mysql::Time</a></li>
        
        </ul>
        <div id="no-class-search-results" style="display: none;">No matching classes.</div>
      </div>

      
    </div>
  </div>

  <div id="documentation">
    <h1 class="module">ActiveRecord::QueryMethods</h1>

    <div id="description" class="description">
      
    </div><!-- description -->

    
    
    
    <div id="5Buntitled-5D" class="documentation-section">
      

      

      
      <!-- Constants -->
      <div id="constants-list" class="section">
        <h3 class="section-header">Constants</h3>
        <dl>
        
          <dt><a name="VALID_UNSCOPING_VALUES">VALID_UNSCOPING_VALUES</a></dt>
          
          <dd class="description"></dd>
          
        
        </dl>
      </div>
      

      

      <!-- Methods -->
      
      <div id="public-instance-method-details" class="method-section section">
        <h3 class="section-header">Public Instance Methods</h3>

      
        <div id="arel-method" class="method-detail ">
          <a name="method-i-arel"></a>

          
          <div class="method-heading">
            <span class="method-name">arel</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Returns the Arel object associated with the relation.</p>
            

            
            <div class="method-source-code" id="arel-source">
<pre>
<span class="ruby-comment"># File lib/active_record/relation/query_methods.rb, line 796</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">arel</span>
  <span class="ruby-ivar">@arel</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">with_default_scope</span>.<span class="ruby-identifier">build_arel</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- arel-source -->
            
          </div>

          

          
        </div><!-- arel-method -->

      
        <div id="bind-method" class="method-detail ">
          <a name="method-i-bind"></a>

          
          <div class="method-heading">
            <span class="method-name">bind</span><span
              class="method-args">(value)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            
            

            
            <div class="method-source-code" id="bind-source">
<pre>
<span class="ruby-comment"># File lib/active_record/relation/query_methods.rb, line 401</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">bind</span>(<span class="ruby-identifier">value</span>)
  <span class="ruby-identifier">spawn</span>.<span class="ruby-identifier">bind!</span>(<span class="ruby-identifier">value</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- bind-source -->
            
          </div>

          

          
        </div><!-- bind-method -->

      
        <div id="build_arel-method" class="method-detail ">
          <a name="method-i-build_arel"></a>

          
          <div class="method-heading">
            <span class="method-name">build_arel</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Like <a href="QueryMethods.html#method-i-arel">arel</a>, but ignores the
default scope of the model.</p>
            

            
            <div class="method-source-code" id="build_arel-source">
<pre>
<span class="ruby-comment"># File lib/active_record/relation/query_methods.rb, line 801</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">build_arel</span>
  <span class="ruby-identifier">arel</span> = <span class="ruby-constant">Arel</span><span class="ruby-operator">::</span><span class="ruby-constant">SelectManager</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">table</span>.<span class="ruby-identifier">engine</span>, <span class="ruby-identifier">table</span>)

  <span class="ruby-identifier">build_joins</span>(<span class="ruby-identifier">arel</span>, <span class="ruby-identifier">joins_values</span>.<span class="ruby-identifier">flatten</span>) <span class="ruby-keyword">unless</span> <span class="ruby-identifier">joins_values</span>.<span class="ruby-identifier">empty?</span>

  <span class="ruby-identifier">collapse_wheres</span>(<span class="ruby-identifier">arel</span>, (<span class="ruby-identifier">where_values</span> <span class="ruby-operator">-</span> [<span class="ruby-string">''</span>]).<span class="ruby-identifier">uniq</span>)

  <span class="ruby-identifier">arel</span>.<span class="ruby-identifier">having</span>(*<span class="ruby-identifier">having_values</span>.<span class="ruby-identifier">uniq</span>.<span class="ruby-identifier">reject</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">h</span><span class="ruby-operator">|</span> <span class="ruby-identifier">h</span>.<span class="ruby-identifier">blank?</span>}) <span class="ruby-keyword">unless</span> <span class="ruby-identifier">having_values</span>.<span class="ruby-identifier">empty?</span>

  <span class="ruby-identifier">arel</span>.<span class="ruby-identifier">take</span>(<span class="ruby-identifier">connection</span>.<span class="ruby-identifier">sanitize_limit</span>(<span class="ruby-identifier">limit_value</span>)) <span class="ruby-keyword">if</span> <span class="ruby-identifier">limit_value</span>
  <span class="ruby-identifier">arel</span>.<span class="ruby-identifier">skip</span>(<span class="ruby-identifier">offset_value</span>.<span class="ruby-identifier">to_i</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">offset_value</span>

  <span class="ruby-identifier">arel</span>.<span class="ruby-identifier">group</span>(*<span class="ruby-identifier">group_values</span>.<span class="ruby-identifier">uniq</span>.<span class="ruby-identifier">reject</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">g</span><span class="ruby-operator">|</span> <span class="ruby-identifier">g</span>.<span class="ruby-identifier">blank?</span>}) <span class="ruby-keyword">unless</span> <span class="ruby-identifier">group_values</span>.<span class="ruby-identifier">empty?</span>

  <span class="ruby-identifier">build_order</span>(<span class="ruby-identifier">arel</span>)

  <span class="ruby-identifier">build_select</span>(<span class="ruby-identifier">arel</span>, <span class="ruby-identifier">select_values</span>.<span class="ruby-identifier">uniq</span>)

  <span class="ruby-identifier">arel</span>.<span class="ruby-identifier">distinct</span>(<span class="ruby-identifier">distinct_value</span>)
  <span class="ruby-identifier">arel</span>.<span class="ruby-identifier">from</span>(<span class="ruby-identifier">build_from</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">from_value</span>
  <span class="ruby-identifier">arel</span>.<span class="ruby-identifier">lock</span>(<span class="ruby-identifier">lock_value</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">lock_value</span>

  <span class="ruby-identifier">arel</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- build_arel-source -->
            
          </div>

          

          
        </div><!-- build_arel-method -->

      
        <div id="create_with-method" class="method-detail ">
          <a name="method-i-create_with"></a>

          
          <div class="method-heading">
            <span class="method-name">create_with</span><span
              class="method-args">(value)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Sets attributes to be used when creating new records from a relation
object.</p>

<pre>users = User.where(name: 'Oscar')
users.new.name # =&gt; 'Oscar'

users = users.create_with(name: 'DHH')
users.new.name # =&gt; 'DHH'</pre>

<p>You can pass <tt>nil</tt> to <tt>create_with</tt> to reset attributes:</p>

<pre>users = users.create_with(nil)
users.new.name # =&gt; 'Oscar'</pre>
            

            
            <div class="method-source-code" id="create_with-source">
<pre>
<span class="ruby-comment"># File lib/active_record/relation/query_methods.rb, line 677</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">create_with</span>(<span class="ruby-identifier">value</span>)
  <span class="ruby-identifier">spawn</span>.<span class="ruby-identifier">create_with!</span>(<span class="ruby-identifier">value</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- create_with-source -->
            
          </div>

          

          
        </div><!-- create_with-method -->

      
        <div id="distinct-method" class="method-detail ">
          <a name="method-i-distinct"></a>

          
          <div class="method-heading">
            <span class="method-name">distinct</span><span
              class="method-args">(value = true)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Specifies whether the records should be unique or not. For example:</p>

<pre>User.select(:name)
# =&gt; Might return two records with the same name

User.select(:name).distinct
# =&gt; Returns 1 record per distinct name

User.select(:name).distinct.distinct(false)
# =&gt; You can also remove the uniqueness</pre>
            

            
            <div class="method-source-code" id="distinct-source">
<pre>
<span class="ruby-comment"># File lib/active_record/relation/query_methods.rb, line 718</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">distinct</span>(<span class="ruby-identifier">value</span> = <span class="ruby-keyword">true</span>)
  <span class="ruby-identifier">spawn</span>.<span class="ruby-identifier">distinct!</span>(<span class="ruby-identifier">value</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- distinct-source -->
            
          </div>

          
          <div class="aliases">
            Also aliased as: <a href="QueryMethods.html#method-i-uniq">uniq</a>
          </div>
          

          
        </div><!-- distinct-method -->

      
        <div id="eager_load-method" class="method-detail ">
          <a name="method-i-eager_load"></a>

          
          <div class="method-heading">
            <span class="method-name">eager_load</span><span
              class="method-args">(*args)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Forces eager loading by performing a LEFT OUTER JOIN on <tt>args</tt>:</p>

<pre>User.eager_load(:posts)
=&gt; SELECT &quot;users&quot;.&quot;id&quot; AS t0_r0, &quot;users&quot;.&quot;name&quot; AS t0_r1, ...
FROM &quot;users&quot; LEFT OUTER JOIN &quot;posts&quot; ON &quot;posts&quot;.&quot;user_id&quot; =
&quot;users&quot;.&quot;id&quot;</pre>
            

            
            <div class="method-source-code" id="eager_load-source">
<pre>
<span class="ruby-comment"># File lib/active_record/relation/query_methods.rb, line 131</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">eager_load</span>(*<span class="ruby-identifier">args</span>)
  <span class="ruby-identifier">check_if_method_has_arguments!</span>(<span class="ruby-string">&quot;eager_load&quot;</span>, <span class="ruby-identifier">args</span>)
  <span class="ruby-identifier">spawn</span>.<span class="ruby-identifier">eager_load!</span>(*<span class="ruby-identifier">args</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- eager_load-source -->
            
          </div>

          

          
        </div><!-- eager_load-method -->

      
        <div id="extending-method" class="method-detail ">
          <a name="method-i-extending"></a>

          
          <div class="method-heading">
            <span class="method-name">extending</span><span
              class="method-args">(*modules, &block)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Used to extend a scope with additional methods, either through a module or
through a block provided.</p>

<p>The object returned is a relation, which can be further extended.</p>

<h3>Using a module</h3>

<pre>module Pagination
  def page(number)
    # pagination code goes here
  end
end

scope = Model.all.extending(Pagination)
scope.page(params[:page])</pre>

<p>You can also pass a list of modules:</p>

<pre>scope = Model.all.extending(Pagination, SomethingElse)</pre>

<h3>Using a block</h3>

<pre>scope = Model.all.extending do
  def page(number)
    # pagination code goes here
  end
end
scope.page(params[:page])</pre>

<p>You can also use a block and a module list:</p>

<pre>scope = Model.all.extending(Pagination) do
  def per_page(number)
    # pagination code goes here
  end
end</pre>
            

            
            <div class="method-source-code" id="extending-source">
<pre>
<span class="ruby-comment"># File lib/active_record/relation/query_methods.rb, line 766</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">extending</span>(*<span class="ruby-identifier">modules</span>, &amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">modules</span>.<span class="ruby-identifier">any?</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">block</span>
    <span class="ruby-identifier">spawn</span>.<span class="ruby-identifier">extending!</span>(*<span class="ruby-identifier">modules</span>, &amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-keyword">else</span>
    <span class="ruby-keyword">self</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- extending-source -->
            
          </div>

          

          
        </div><!-- extending-method -->

      
        <div id="from-method" class="method-detail ">
          <a name="method-i-from"></a>

          
          <div class="method-heading">
            <span class="method-name">from</span><span
              class="method-args">(value, subquery_name = nil)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Specifies table from which the records will be fetched. For example:</p>

<pre>Topic.select('title').from('posts')
#=&gt; SELECT title FROM posts</pre>

<p>Can accept other relation objects. For example:</p>

<pre>Topic.select('title').from(Topic.approved)
# =&gt; SELECT title FROM (SELECT * FROM topics WHERE approved = 't') subquery

Topic.select('a.title').from(Topic.approved, :a)
# =&gt; SELECT a.title FROM (SELECT * FROM topics WHERE approved = 't') a</pre>
            

            
            <div class="method-source-code" id="from-source">
<pre>
<span class="ruby-comment"># File lib/active_record/relation/query_methods.rb, line 699</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">from</span>(<span class="ruby-identifier">value</span>, <span class="ruby-identifier">subquery_name</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">spawn</span>.<span class="ruby-identifier">from!</span>(<span class="ruby-identifier">value</span>, <span class="ruby-identifier">subquery_name</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- from-source -->
            
          </div>

          

          
        </div><!-- from-method -->

      
        <div id="group-method" class="method-detail ">
          <a name="method-i-group"></a>

          
          <div class="method-heading">
            <span class="method-name">group</span><span
              class="method-args">(*args)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Allows to specify a group attribute:</p>

<pre>User.group(:name)
=&gt; SELECT &quot;users&quot;.* FROM &quot;users&quot; GROUP BY name</pre>

<p>Returns an array with distinct records based on the <tt>group</tt>
attribute:</p>

<pre>User.select([:id, :name])
=&gt; [#&lt;User id: 1, name: &quot;Oscar&quot;&gt;, #&lt;User id: 2, name: &quot;Oscar&quot;&gt;, #&lt;User id: 3, name: &quot;Foo&quot;&gt;

User.group(:name)
=&gt; [#&lt;User id: 3, name: &quot;Foo&quot;, ...&gt;, #&lt;User id: 2, name: &quot;Oscar&quot;, ...&gt;]

User.group('name AS grouped_name, age')
=&gt; [#&lt;User id: 3, name: &quot;Foo&quot;, age: 21, ...&gt;, #&lt;User id: 2, name: &quot;Oscar&quot;, age: 21, ...&gt;, #&lt;User id: 5, name: &quot;Foo&quot;, age: 23, ...&gt;]</pre>
            

            
            <div class="method-source-code" id="group-source">
<pre>
<span class="ruby-comment"># File lib/active_record/relation/query_methods.rb, line 243</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">group</span>(*<span class="ruby-identifier">args</span>)
  <span class="ruby-identifier">check_if_method_has_arguments!</span>(<span class="ruby-string">&quot;group&quot;</span>, <span class="ruby-identifier">args</span>)
  <span class="ruby-identifier">spawn</span>.<span class="ruby-identifier">group!</span>(*<span class="ruby-identifier">args</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- group-source -->
            
          </div>

          

          
        </div><!-- group-method -->

      
        <div id="having-method" class="method-detail ">
          <a name="method-i-having"></a>

          
          <div class="method-heading">
            <span class="method-name">having</span><span
              class="method-args">(opts, *rest)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Allows to specify a HAVING clause. Note that you can’t use HAVING without
also specifying a GROUP clause.</p>

<pre>Order.having('SUM(price) &gt; 30').group('user_id')</pre>
            

            
            <div class="method-source-code" id="having-source">
<pre>
<span class="ruby-comment"># File lib/active_record/relation/query_methods.rb, line 554</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">having</span>(<span class="ruby-identifier">opts</span>, *<span class="ruby-identifier">rest</span>)
  <span class="ruby-identifier">opts</span>.<span class="ruby-identifier">blank?</span> <span class="ruby-operator">?</span> <span class="ruby-keyword">self</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">spawn</span>.<span class="ruby-identifier">having!</span>(<span class="ruby-identifier">opts</span>, *<span class="ruby-identifier">rest</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- having-source -->
            
          </div>

          

          
        </div><!-- having-method -->

      
        <div id="includes-method" class="method-detail ">
          <a name="method-i-includes"></a>

          
          <div class="method-heading">
            <span class="method-name">includes</span><span
              class="method-args">(*args)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Specify relationships to be included in the result set. For example:</p>

<pre>users = User.includes(:address)
users.each do |user|
  user.address.city
end</pre>

<p>allows you to access the <tt>address</tt> attribute of the <tt>User</tt>
model without firing an additional query. This will often result in a
performance improvement over a simple <tt>join</tt>.</p>

<h3>conditions</h3>

<p>If you want to add conditions to your included models you’ll have to
explicitly reference them. For example:</p>

<pre>User.includes(:posts).where('posts.name = ?', 'example')</pre>

<p>Will throw an error, but this will work:</p>

<pre>User.includes(:posts).where('posts.name = ?', 'example').references(:posts)</pre>
            

            
            <div class="method-source-code" id="includes-source">
<pre>
<span class="ruby-comment"># File lib/active_record/relation/query_methods.rb, line 113</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">includes</span>(*<span class="ruby-identifier">args</span>)
  <span class="ruby-identifier">check_if_method_has_arguments!</span>(<span class="ruby-string">&quot;includes&quot;</span>, <span class="ruby-identifier">args</span>)
  <span class="ruby-identifier">spawn</span>.<span class="ruby-identifier">includes!</span>(*<span class="ruby-identifier">args</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- includes-source -->
            
          </div>

          

          
        </div><!-- includes-method -->

      
        <div id="joins-method" class="method-detail ">
          <a name="method-i-joins"></a>

          
          <div class="method-heading">
            <span class="method-name">joins</span><span
              class="method-args">(*args)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Performs a joins on <tt>args</tt>:</p>

<pre>User.joins(:posts)
=&gt; SELECT &quot;users&quot;.* FROM &quot;users&quot; INNER JOIN &quot;posts&quot; ON &quot;posts&quot;.&quot;user_id&quot; = &quot;users&quot;.&quot;id&quot;</pre>

<p>You can use strings in order to customize your joins:</p>

<pre>User.joins(&quot;LEFT JOIN bookmarks ON bookmarks.bookmarkable_type = 'Post' AND bookmarks.user_id = users.id&quot;)
=&gt; SELECT &quot;users&quot;.* FROM &quot;users&quot; LEFT JOIN bookmarks ON bookmarks.bookmarkable_type = 'Post' AND bookmarks.user_id = users.id</pre>
            

            
            <div class="method-source-code" id="joins-source">
<pre>
<span class="ruby-comment"># File lib/active_record/relation/query_methods.rb, line 391</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">joins</span>(*<span class="ruby-identifier">args</span>)
  <span class="ruby-identifier">check_if_method_has_arguments!</span>(<span class="ruby-string">&quot;joins&quot;</span>, <span class="ruby-identifier">args</span>)
  <span class="ruby-identifier">spawn</span>.<span class="ruby-identifier">joins!</span>(*<span class="ruby-identifier">args</span>.<span class="ruby-identifier">compact</span>.<span class="ruby-identifier">flatten</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- joins-source -->
            
          </div>

          

          
        </div><!-- joins-method -->

      
        <div id="limit-method" class="method-detail ">
          <a name="method-i-limit"></a>

          
          <div class="method-heading">
            <span class="method-name">limit</span><span
              class="method-args">(value)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Specifies a limit for the number of records to retrieve.</p>

<pre>User.limit(10) # generated SQL has 'LIMIT 10'

User.limit(10).limit(20) # generated SQL has 'LIMIT 20'</pre>
            

            
            <div class="method-source-code" id="limit-source">
<pre>
<span class="ruby-comment"># File lib/active_record/relation/query_methods.rb, line 570</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">limit</span>(<span class="ruby-identifier">value</span>)
  <span class="ruby-identifier">spawn</span>.<span class="ruby-identifier">limit!</span>(<span class="ruby-identifier">value</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- limit-source -->
            
          </div>

          

          
        </div><!-- limit-method -->

      
        <div id="lock-method" class="method-detail ">
          <a name="method-i-lock"></a>

          
          <div class="method-heading">
            <span class="method-name">lock</span><span
              class="method-args">(locks = true)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Specifies locking settings (default to <tt>true</tt>). For more information
on locking, please see +ActiveRecord::Locking+.</p>
            

            
            <div class="method-source-code" id="lock-source">
<pre>
<span class="ruby-comment"># File lib/active_record/relation/query_methods.rb, line 597</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">lock</span>(<span class="ruby-identifier">locks</span> = <span class="ruby-keyword">true</span>)
  <span class="ruby-identifier">spawn</span>.<span class="ruby-identifier">lock!</span>(<span class="ruby-identifier">locks</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- lock-source -->
            
          </div>

          

          
        </div><!-- lock-method -->

      
        <div id="none-method" class="method-detail ">
          <a name="method-i-none"></a>

          
          <div class="method-heading">
            <span class="method-name">none</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Returns a chainable relation with zero records, specifically an instance of
the <tt>ActiveRecord::NullRelation</tt> class.</p>

<p>The returned <tt>ActiveRecord::NullRelation</tt> inherits from <a
href="Relation.html">Relation</a> and implements the Null Object pattern.
It is an object with defined null behavior and always returns an empty
array of records without querying the database.</p>

<p>Any subsequent condition chained to the returned relation will continue
generating an empty relation and will not fire any query to the database.</p>

<p>Used in cases where a method or scope could return zero records but the
result needs to be chainable.</p>

<p>For example:</p>

<pre>@posts = current_user.visible_posts.where(name: params[:name])
# =&gt; the visible_posts method is expected to return a chainable Relation

def visible_posts
  case role
  when 'Country Manager'
    Post.where(country: country)
  when 'Reviewer'
    Post.published
  when 'Bad User'
    Post.none # =&gt; returning [] instead breaks the previous code
  end
end</pre>
            

            
            <div class="method-source-code" id="none-source">
<pre>
<span class="ruby-comment"># File lib/active_record/relation/query_methods.rb, line 641</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">none</span>
  <span class="ruby-identifier">extending</span>(<span class="ruby-constant">NullRelation</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- none-source -->
            
          </div>

          

          
        </div><!-- none-method -->

      
        <div id="offset-method" class="method-detail ">
          <a name="method-i-offset"></a>

          
          <div class="method-heading">
            <span class="method-name">offset</span><span
              class="method-args">(value)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Specifies the number of rows to skip before returning rows.</p>

<pre>User.offset(10) # generated SQL has &quot;OFFSET 10&quot;</pre>

<p>Should be used with order.</p>

<pre>User.offset(10).order(&quot;name ASC&quot;)</pre>
            

            
            <div class="method-source-code" id="offset-source">
<pre>
<span class="ruby-comment"># File lib/active_record/relation/query_methods.rb, line 586</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">offset</span>(<span class="ruby-identifier">value</span>)
  <span class="ruby-identifier">spawn</span>.<span class="ruby-identifier">offset!</span>(<span class="ruby-identifier">value</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- offset-source -->
            
          </div>

          

          
        </div><!-- offset-method -->

      
        <div id="order-method" class="method-detail ">
          <a name="method-i-order"></a>

          
          <div class="method-heading">
            <span class="method-name">order</span><span
              class="method-args">(*args)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Allows to specify an order attribute:</p>

<pre>User.order('name')
=&gt; SELECT &quot;users&quot;.* FROM &quot;users&quot; ORDER BY name

User.order('name DESC')
=&gt; SELECT &quot;users&quot;.* FROM &quot;users&quot; ORDER BY name DESC

User.order('name DESC, email')
=&gt; SELECT &quot;users&quot;.* FROM &quot;users&quot; ORDER BY name DESC, email

User.order(:name)
=&gt; SELECT &quot;users&quot;.* FROM &quot;users&quot; ORDER BY &quot;users&quot;.&quot;name&quot; ASC

User.order(email: :desc)
=&gt; SELECT &quot;users&quot;.* FROM &quot;users&quot; ORDER BY &quot;users&quot;.&quot;email&quot; DESC

User.order(:name, email: :desc)
=&gt; SELECT &quot;users&quot;.* FROM &quot;users&quot; ORDER BY &quot;users&quot;.&quot;name&quot; ASC, &quot;users&quot;.&quot;email&quot; DESC</pre>
            

            
            <div class="method-source-code" id="order-source">
<pre>
<span class="ruby-comment"># File lib/active_record/relation/query_methods.rb, line 274</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">order</span>(*<span class="ruby-identifier">args</span>)
  <span class="ruby-identifier">check_if_method_has_arguments!</span>(<span class="ruby-string">&quot;order&quot;</span>, <span class="ruby-identifier">args</span>)
  <span class="ruby-identifier">spawn</span>.<span class="ruby-identifier">order!</span>(*<span class="ruby-identifier">args</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- order-source -->
            
          </div>

          

          
        </div><!-- order-method -->

      
        <div id="preload-method" class="method-detail ">
          <a name="method-i-preload"></a>

          
          <div class="method-heading">
            <span class="method-name">preload</span><span
              class="method-args">(*args)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Allows preloading of <tt>args</tt>, in the same way that <tt>includes</tt>
does:</p>

<pre>User.preload(:posts)
=&gt; SELECT &quot;posts&quot;.* FROM &quot;posts&quot; WHERE &quot;posts&quot;.&quot;user_id&quot; IN (1, 2, 3)</pre>
            

            
            <div class="method-source-code" id="preload-source">
<pre>
<span class="ruby-comment"># File lib/active_record/relation/query_methods.rb, line 145</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">preload</span>(*<span class="ruby-identifier">args</span>)
  <span class="ruby-identifier">check_if_method_has_arguments!</span>(<span class="ruby-string">&quot;preload&quot;</span>, <span class="ruby-identifier">args</span>)
  <span class="ruby-identifier">spawn</span>.<span class="ruby-identifier">preload!</span>(*<span class="ruby-identifier">args</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- preload-source -->
            
          </div>

          

          
        </div><!-- preload-method -->

      
        <div id="readonly-method" class="method-detail ">
          <a name="method-i-readonly"></a>

          
          <div class="method-heading">
            <span class="method-name">readonly</span><span
              class="method-args">(value = true)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Sets readonly attributes for the returned relation. If value is true
(default), attempting to update a record will result in an error.</p>

<pre>users = User.readonly
users.first.save
=&gt; ActiveRecord::ReadOnlyRecord: ActiveRecord::ReadOnlyRecord</pre>
            

            
            <div class="method-source-code" id="readonly-source">
<pre>
<span class="ruby-comment"># File lib/active_record/relation/query_methods.rb, line 655</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">readonly</span>(<span class="ruby-identifier">value</span> = <span class="ruby-keyword">true</span>)
  <span class="ruby-identifier">spawn</span>.<span class="ruby-identifier">readonly!</span>(<span class="ruby-identifier">value</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- readonly-source -->
            
          </div>

          

          
        </div><!-- readonly-method -->

      
        <div id="references-method" class="method-detail ">
          <a name="method-i-references"></a>

          
          <div class="method-heading">
            <span class="method-name">references</span><span
              class="method-args">(*args)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Used to indicate that an association is referenced by an SQL string, and
should therefore be JOINed in any query rather than loaded separately.</p>

<pre>User.includes(:posts).where(&quot;posts.name = 'foo'&quot;)
# =&gt; Doesn't JOIN the posts table, resulting in an error.

User.includes(:posts).where(&quot;posts.name = 'foo'&quot;).references(:posts)
# =&gt; Query now knows the string references posts, so adds a JOIN</pre>
            

            
            <div class="method-source-code" id="references-source">
<pre>
<span class="ruby-comment"># File lib/active_record/relation/query_methods.rb, line 163</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">references</span>(*<span class="ruby-identifier">args</span>)
  <span class="ruby-identifier">check_if_method_has_arguments!</span>(<span class="ruby-string">&quot;references&quot;</span>, <span class="ruby-identifier">args</span>)
  <span class="ruby-identifier">spawn</span>.<span class="ruby-identifier">references!</span>(*<span class="ruby-identifier">args</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- references-source -->
            
          </div>

          

          
        </div><!-- references-method -->

      
        <div id="reorder-method" class="method-detail ">
          <a name="method-i-reorder"></a>

          
          <div class="method-heading">
            <span class="method-name">reorder</span><span
              class="method-args">(*args)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Replaces any existing order defined on the relation with the specified
order.</p>

<pre>User.order('email DESC').reorder('id ASC') # generated SQL has 'ORDER BY id ASC'</pre>

<p>Subsequent calls to order on the same relation will be appended. For
example:</p>

<pre>User.order('email DESC').reorder('id ASC').order('name ASC')</pre>

<p>generates a query with ‘ORDER BY id ASC, name ASC’.</p>
            

            
            <div class="method-source-code" id="reorder-source">
<pre>
<span class="ruby-comment"># File lib/active_record/relation/query_methods.rb, line 307</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">reorder</span>(*<span class="ruby-identifier">args</span>)
  <span class="ruby-identifier">check_if_method_has_arguments!</span>(<span class="ruby-string">&quot;reorder&quot;</span>, <span class="ruby-identifier">args</span>)
  <span class="ruby-identifier">spawn</span>.<span class="ruby-identifier">reorder!</span>(*<span class="ruby-identifier">args</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- reorder-source -->
            
          </div>

          

          
        </div><!-- reorder-method -->

      
        <div id="reverse_order-method" class="method-detail ">
          <a name="method-i-reverse_order"></a>

          
          <div class="method-heading">
            <span class="method-name">reverse_order</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Reverse the existing order clause on the relation.</p>

<pre>User.order('name ASC').reverse_order # generated SQL has 'ORDER BY name DESC'</pre>
            

            
            <div class="method-source-code" id="reverse_order-source">
<pre>
<span class="ruby-comment"># File lib/active_record/relation/query_methods.rb, line 786</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">reverse_order</span>
  <span class="ruby-identifier">spawn</span>.<span class="ruby-identifier">reverse_order!</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- reverse_order-source -->
            
          </div>

          

          
        </div><!-- reverse_order-method -->

      
        <div id="select-method" class="method-detail ">
          <a name="method-i-select"></a>

          
          <div class="method-heading">
            <span class="method-name">select</span><span
              class="method-args">(*fields)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Works in two unique ways.</p>

<p>First: takes a block so it can be used just like Array#select.</p>

<pre>Model.all.select { |m| m.field == value }</pre>

<p>This will build an array of objects from the database for the scope,
converting them into an array and iterating through them using
Array#select.</p>

<p>Second: Modifies the SELECT statement for the query so that only certain
fields are retrieved:</p>

<pre>Model.select(:field)
# =&gt; [#&lt;Model field:value&gt;]</pre>

<p>Although in the above example it looks as though this method returns an
array, it actually returns a relation object and can have other query
methods appended to it, such as the other methods in <a
href="QueryMethods.html">ActiveRecord::QueryMethods</a>.</p>

<p>The argument to the method can also be an array of fields.</p>

<pre>Model.select(:field, :other_field, :and_one_more)
# =&gt; [#&lt;Model field: &quot;value&quot;, other_field: &quot;value&quot;, and_one_more: &quot;value&quot;&gt;]</pre>

<p>You can also use one or more strings, which will be used unchanged as
SELECT fields.</p>

<pre>Model.select('field AS field_one', 'other_field AS field_two')
# =&gt; [#&lt;Model field: &quot;value&quot;, other_field: &quot;value&quot;&gt;]</pre>

<p>If an alias was specified, it will be accessible from the resulting
objects:</p>

<pre>Model.select('field AS field_one').first.field_one
# =&gt; &quot;value&quot;</pre>

<p>Accessing attributes of an object that do not have fields retrieved by a
select will throw <tt>ActiveModel::MissingAttributeError</tt>:</p>

<pre>Model.select(:field).first.other_field
# =&gt; ActiveModel::MissingAttributeError: missing attribute: other_field</pre>
            

            
            <div class="method-source-code" id="select-source">
<pre>
<span class="ruby-comment"># File lib/active_record/relation/query_methods.rb, line 214</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">select</span>(*<span class="ruby-identifier">fields</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">block_given?</span>
    <span class="ruby-identifier">to_a</span>.<span class="ruby-identifier">select</span> { <span class="ruby-operator">|</span>*<span class="ruby-identifier">block_args</span><span class="ruby-operator">|</span> <span class="ruby-keyword">yield</span>(*<span class="ruby-identifier">block_args</span>) }
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>, <span class="ruby-string">'Call this with at least one field'</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">fields</span>.<span class="ruby-identifier">empty?</span>
    <span class="ruby-identifier">spawn</span>.<span class="ruby-identifier">select!</span>(*<span class="ruby-identifier">fields</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- select-source -->
            
          </div>

          

          
        </div><!-- select-method -->

      
        <div id="uniq-method" class="method-detail method-alias">
          <a name="method-i-uniq"></a>

          
          <div class="method-heading">
            <span class="method-name">uniq</span><span
              class="method-args">(value = true)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            
            

            
          </div>

          

          
          <div class="aliases">
            Alias for: <a href="QueryMethods.html#method-i-distinct">distinct</a>
          </div>
          
        </div><!-- uniq-method -->

      
        <div id="unscope-method" class="method-detail ">
          <a name="method-i-unscope"></a>

          
          <div class="method-heading">
            <span class="method-name">unscope</span><span
              class="method-args">(*args)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Removes an unwanted relation that is already defined on a chain of
relations. This is useful when passing around chains of relations and would
like to modify the relations without reconstructing the entire chain.</p>

<pre>User.order('email DESC').unscope(:order) == User.all</pre>

<p>The method arguments are symbols which correspond to the names of the
methods which should be unscoped. The valid arguments are given in <a
href="QueryMethods.html#VALID_UNSCOPING_VALUES">VALID_UNSCOPING_VALUES</a>.
The method can also be called with multiple arguments. For example:</p>

<pre>User.order('email DESC').select('id').where(name: &quot;John&quot;)
    .unscope(:order, :select, :where) == User.all</pre>

<p>One can additionally pass a hash as an argument to unscope specific :where
values. This is done by passing a hash with a single key-value pair. The
key should be :where and the value should be the where value to unscope.
For example:</p>

<pre>User.where(name: &quot;John&quot;, active: true).unscope(where: :name)
    == User.where(active: true)</pre>

<p>Note that this method is more generalized than <a
href="SpawnMethods.html#method-i-except">ActiveRecord::SpawnMethods#except</a>
because except will only affect a particular relation’s values. It won’t
wipe the order, grouping, etc. when that relation is merged. For example:</p>

<pre>Post.comments.except(:order)</pre>

<p>will still have an order if it comes from the default_scope on Comment.</p>
            

            
            <div class="method-source-code" id="unscope-source">
<pre>
<span class="ruby-comment"># File lib/active_record/relation/query_methods.rb, line 352</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">unscope</span>(*<span class="ruby-identifier">args</span>)
  <span class="ruby-identifier">check_if_method_has_arguments!</span>(<span class="ruby-string">&quot;unscope&quot;</span>, <span class="ruby-identifier">args</span>)
  <span class="ruby-identifier">spawn</span>.<span class="ruby-identifier">unscope!</span>(*<span class="ruby-identifier">args</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- unscope-source -->
            
          </div>

          

          
        </div><!-- unscope-method -->

      
        <div id="where-method" class="method-detail ">
          <a name="method-i-where"></a>

          
          <div class="method-heading">
            <span class="method-name">where</span><span
              class="method-args">(opts = :chain, *rest)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Returns a new relation, which is the result of filtering the current
relation according to the conditions in the arguments.</p>

<p><a href="QueryMethods.html#method-i-where">where</a> accepts conditions in
one of several formats. In the examples below, the resulting SQL is given
as an illustration; the actual query generated may be different depending
on the database adapter.</p>

<h3>string</h3>

<p>A single string, without additional arguments, is passed to the query
constructor as a SQL fragment, and used in the where clause of the query.</p>

<pre>Client.where(&quot;orders_count = '2'&quot;)
# SELECT * from clients where orders_count = '2';</pre>

<p>Note that building your own string from user input may expose your
application to injection attacks if not done properly. As an alternative,
it is recommended to use one of the following methods.</p>

<h3>array</h3>

<p>If an array is passed, then the first element of the array is treated as a
template, and the remaining elements are inserted into the template to
generate the condition. Active Record takes care of building the query to
avoid injection attacks, and will convert from the ruby type to the
database type where needed. Elements are inserted into the string in the
order in which they appear.</p>

<pre>User.where([&quot;name = ? and email = ?&quot;, &quot;Joe&quot;, &quot;joe@example.com&quot;])
# SELECT * FROM users WHERE name = 'Joe' AND email = 'joe@example.com';</pre>

<p>Alternatively, you can use named placeholders in the template, and pass a
hash as the second element of the array. The names in the template are
replaced with the corresponding values from the hash.</p>

<pre>User.where([&quot;name = :name and email = :email&quot;, { name: &quot;Joe&quot;, email: &quot;joe@example.com&quot; }])
# SELECT * FROM users WHERE name = 'Joe' AND email = 'joe@example.com';</pre>

<p>This can make for more readable code in complex queries.</p>

<p>Lastly, you can use sprintf-style % escapes in the template. This works
slightly differently than the previous methods; you are responsible for
ensuring that the values in the template are properly quoted. The values
are passed to the connector for quoting, but the caller is responsible for
ensuring they are enclosed in quotes in the resulting SQL. After quoting,
the values are inserted using the same escapes as the Ruby core method
<tt>Kernel::sprintf</tt>.</p>

<pre>User.where([&quot;name = '%s' and email = '%s'&quot;, &quot;Joe&quot;, &quot;joe@example.com&quot;])
# SELECT * FROM users WHERE name = 'Joe' AND email = 'joe@example.com';</pre>

<p>If <a href="QueryMethods.html#method-i-where">where</a> is called with
multiple arguments, these are treated as if they were passed as the
elements of a single array.</p>

<pre>User.where(&quot;name = :name and email = :email&quot;, { name: &quot;Joe&quot;, email: &quot;joe@example.com&quot; })
# SELECT * FROM users WHERE name = 'Joe' AND email = 'joe@example.com';</pre>

<p>When using strings to specify conditions, you can use any operator
available from the database. While this provides the most flexibility, you
can also unintentionally introduce dependencies on the underlying database.
If your code is intended for general consumption, test with multiple
database backends.</p>

<h3>hash</h3>

<p><a href="QueryMethods.html#method-i-where">where</a> will also accept a
hash condition, in which the keys are fields and the values are values to
be searched for.</p>

<p>Fields can be symbols or strings. Values can be single values, arrays, or
ranges.</p>

<pre>User.where({ name: &quot;Joe&quot;, email: &quot;joe@example.com&quot; })
# SELECT * FROM users WHERE name = 'Joe' AND email = 'joe@example.com'

User.where({ name: [&quot;Alice&quot;, &quot;Bob&quot;]})
# SELECT * FROM users WHERE name IN ('Alice', 'Bob')

User.where({ created_at: (Time.now.midnight - 1.day)..Time.now.midnight })
# SELECT * FROM users WHERE (created_at BETWEEN '2012-06-09 07:00:00.000000' AND '2012-06-10 07:00:00.000000')</pre>

<p>In the case of a belongs_to relationship, an association key can be used to
specify the model if an <a href="../ActiveRecord.html">ActiveRecord</a>
object is used as the value.</p>

<pre>author = Author.find(1)

# The following queries will be equivalent:
Post.where(author: author)
Post.where(author_id: author)</pre>

<p>This also works with polymorphic belongs_to relationships:</p>

<pre>treasure = Treasure.create(name: 'gold coins')
treasure.price_estimates &lt;&lt; PriceEstimate.create(price: 125)

# The following queries will be equivalent:
PriceEstimate.where(estimate_of: treasure)
PriceEstimate.where(estimate_of_type: 'Treasure', estimate_of_id: treasure)</pre>

<h3>Joins</h3>

<p>If the relation is the result of a join, you may create a condition which
uses any of the tables in the join. For string and array conditions, use
the table name in the condition.</p>

<pre>User.joins(:posts).where(&quot;posts.created_at &lt; ?&quot;, Time.now)</pre>

<p>For hash conditions, you can either use the table name in the key, or use a
sub-hash.</p>

<pre>User.joins(:posts).where({ &quot;posts.published&quot; =&gt; true })
User.joins(:posts).where({ posts: { published: true } })</pre>

<h3>no argument</h3>

<p>If no argument is passed, <a
href="QueryMethods.html#method-i-where">where</a> returns a new instance of
<a href="QueryMethods/WhereChain.html">WhereChain</a>, that can be chained
with not to return a new relation that negates the where clause.</p>

<pre>User.where.not(name: &quot;Jon&quot;)
# SELECT * FROM users WHERE name != 'Jon'</pre>

<p>See <a href="QueryMethods/WhereChain.html">WhereChain</a> for more details
on not.</p>

<h3>blank condition</h3>

<p>If the condition is any blank-ish object, then <a
href="QueryMethods.html#method-i-where">where</a> is a no-op and returns
the current relation.</p>
            

            
            <div class="method-source-code" id="where-source">
<pre>
<span class="ruby-comment"># File lib/active_record/relation/query_methods.rb, line 529</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">where</span>(<span class="ruby-identifier">opts</span> = <span class="ruby-value">:chain</span>, *<span class="ruby-identifier">rest</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">opts</span> <span class="ruby-operator">==</span> <span class="ruby-value">:chain</span>
    <span class="ruby-constant">WhereChain</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">spawn</span>)
  <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">opts</span>.<span class="ruby-identifier">blank?</span>
    <span class="ruby-keyword">self</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">spawn</span>.<span class="ruby-identifier">where!</span>(<span class="ruby-identifier">opts</span>, *<span class="ruby-identifier">rest</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- where-source -->
            
          </div>

          

          
        </div><!-- where-method -->

      
      </div><!-- public-instance-method-details -->
    
    </div><!-- 5Buntitled-5D -->
  

  </div><!-- documentation -->

  <div id="validator-badges">
    <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
    <p><small>Generated with the <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish
      Rdoc Generator</a> 2</small>.</p>
  </div>

</body>
</html>

